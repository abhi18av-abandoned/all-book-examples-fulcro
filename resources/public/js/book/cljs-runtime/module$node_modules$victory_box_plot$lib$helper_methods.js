shadow$provide.module$node_modules$victory_box_plot$lib$helper_methods=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.getBaseProps=exports.getData=exports.getDomain=void 0;var _isNil2=_interopRequireDefault(require("module$node_modules$lodash$isNil")),_isNaN2=_interopRequireDefault(require("module$node_modules$lodash$isNaN")),_keys2=_interopRequireDefault(require("module$node_modules$lodash$keys")),
_groupBy2=_interopRequireDefault(require("module$node_modules$lodash$groupBy")),_uniq2=_interopRequireDefault(require("module$node_modules$lodash$uniq")),_assign3=_interopRequireDefault(require("module$node_modules$lodash$assign")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_orderBy2=_interopRequireDefault(require("module$node_modules$lodash$orderBy")),_victoryCore=require("module$node_modules$victory_core$lib$index"),_d3Array=require("module$node_modules$d3_array$dist$d3_array"),
TYPES=["max","min","median","q1","q3"],checkProcessedData=function(props,data){if(data.every(function(datum){return TYPES.every(function(val){return"undefined"!==typeof datum["_".concat(val)]})})){data=data.map(function(_ref){var _x=_ref._x;_ref=_ref._y;return props.horizontal?_ref:_x});if(!(0,_uniq2.default)(data).length===data.length)throw Error("\n        data prop may only take an array of objects with a unique\n        independent variable. Make sure your x or y values are distinct.\n      ");
return!0}return!1},nanToNull=function(val){return(0,_isNaN2.default)(val)?null:val},getSummaryStatistics=function(data,horizontal){var dependentVars=data.map(function(datum){return horizontal?datum._x:datum._y});dependentVars={_q1:nanToNull((0,_d3Array.quantile)(dependentVars,.25)),_q3:nanToNull((0,_d3Array.quantile)(dependentVars,.75)),_min:nanToNull((0,_d3Array.min)(dependentVars)),_median:nanToNull((0,_d3Array.quantile)(dependentVars,.5)),_max:nanToNull((0,_d3Array.max)(dependentVars))};return horizontal?
(0,_assign3.default)({},dependentVars,{_y:data[0]._y}):(0,_assign3.default)({},dependentVars,{_x:data[0]._x})},isHorizontal=function(props,data){return data.every(function(datum){return Array.isArray(datum._x)})||props.horizontal},processData=function(props,data){if(checkProcessedData(props,data))return data;var arrayX=data.every(function(datum){return Array.isArray(datum._x)}),arrayY=data.every(function(datum){return Array.isArray(datum._y)}),horizontal=arrayX||props.horizontal,sortKey=horizontal?
"_x":"_y";props=horizontal?"_y":"_x";if(arrayX&&arrayY)throw Error("\n        data may not be given with array values for both x and y\n      ");if(arrayX||arrayY)return data.map(function(datum){var dataArray=datum[sortKey].map(function(d){var JSCompiler_temp_const=(0,_assign3.default),obj={};sortKey in obj?Object.defineProperty(obj,sortKey,{value:d,enumerable:!0,configurable:!0,writable:!0}):obj[sortKey]=d;return JSCompiler_temp_const({},datum,obj)});dataArray=(0,_orderBy2.default)(dataArray,sortKey);
return getSummaryStatistics(dataArray,horizontal)});var groupedData=(0,_groupBy2.default)(data,props);return(0,_keys2.default)(groupedData).map(function(key){key=groupedData[key];key=(0,_orderBy2.default)(key,sortKey);return getSummaryStatistics(key,horizontal)})},getData=function(props){var accessorTypes=TYPES.concat("x","y");accessorTypes=_victoryCore.Data.formatData(props.data,props,accessorTypes);return accessorTypes.length?processData(props,accessorTypes):[]};exports.getData=getData;var reduceDataset=
function(dataset,props,axis){var minDomain=_victoryCore.Domain.getMinFromProps(props,axis);props=_victoryCore.Domain.getMaxFromProps(props,axis);minDomain=void 0!==minDomain?minDomain:dataset.reduce(function(memo,datum){return memo<datum["_".concat(axis)]?memo:datum["_".concat(axis)]},Infinity);dataset=void 0!==props?props:dataset.reduce(function(memo,datum){return memo>datum["_".concat(axis)]?memo:datum["_".concat(axis)]},-Infinity);return _victoryCore.Domain.getDomainFromMinMax(minDomain,dataset)},
getDomainFromMinMaxValues=function(dataset,props,axis){var minDomain=_victoryCore.Domain.getMinFromProps(props,axis);props=_victoryCore.Domain.getMaxFromProps(props,axis);minDomain=void 0!==minDomain?minDomain:dataset.reduce(function(memo,datum){return memo<datum._min?memo:datum._min},Infinity);dataset=void 0!==props?props:dataset.reduce(function(memo,datum){return memo>datum._max?memo:datum._max},-Infinity);return _victoryCore.Domain.getDomainFromMinMax(minDomain,dataset)},getDomainFromData=function(props,
axis){var minDomain=_victoryCore.Domain.getMinFromProps(props,axis),maxDomain=_victoryCore.Domain.getMaxFromProps(props,axis),dataset=getData(props);return 1>dataset.length?(props=_victoryCore.Scale.getBaseScale(props,axis).domain(),minDomain=void 0!==minDomain?minDomain:_victoryCore.Collection.getMinValue(props),maxDomain=void 0!==maxDomain?maxDomain:_victoryCore.Collection.getMaxValue(props),_victoryCore.Domain.getDomainFromMinMax(minDomain,maxDomain)):props.horizontal&&"x"===axis||!props.horizontal&&
"y"===axis?getDomainFromMinMaxValues(dataset,props,axis):reduceDataset(dataset,props,axis)},getDomain=function(props,axis){return _victoryCore.Domain.createDomainFunction(getDomainFromData)(props,axis)};exports.getDomain=getDomain;var getCalculatedValues=function(props){var theme=props.theme,data=getData(props),horizontal=isHorizontal(props,data),JSCompiler_object_inline_x_2848=_victoryCore.Helpers.getRange(props,"x"),JSCompiler_object_inline_y_2849=_victoryCore.Helpers.getRange(props,"y"),domain=
{x:getDomain(props,"x"),y:getDomain(props,"y")};JSCompiler_object_inline_x_2848={x:_victoryCore.Scale.getBaseScale(props,"x").domain(domain.x).range(JSCompiler_object_inline_x_2848),y:_victoryCore.Scale.getBaseScale(props,"y").domain(domain.y).range(JSCompiler_object_inline_y_2849)};theme=theme&&theme.boxplot&&theme.boxplot.style?theme.boxplot.style:{};JSCompiler_object_inline_y_2849=props.style||{};theme=theme||{};var labelStyles=(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.labels,theme.labels),
boxStyles=(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.boxes,theme.boxes),whiskerStyles=(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.whiskers,theme.whiskers);theme={boxes:boxStyles,labels:labelStyles,parent:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.parent,theme.parent,{height:"100%",width:"100%"}),max:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.max,theme.max,whiskerStyles),maxLabels:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.maxLabels,
theme.maxlabels,labelStyles),median:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.median,theme.median,whiskerStyles),medianLabels:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.medianLabels,theme.medianlabels,labelStyles),min:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.min,theme.min,whiskerStyles),minLabels:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.minLabels,theme.minlabels,labelStyles),q1:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.q1,
theme.q1,boxStyles),q1Labels:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.q1Labels,theme.q1labels,labelStyles),q3:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.q3,theme.q3,boxStyles),q3Labels:(0,_defaults2.default)({},JSCompiler_object_inline_y_2849.q3Labels,theme.q3labels,labelStyles),whiskers:whiskerStyles};return{data:data,horizontal:horizontal,domain:domain,scale:JSCompiler_object_inline_x_2848,style:theme,labelOrientation:props.labelOrientation||(horizontal?"top":"right"),
boxWidth:props.boxWidth||1}},getLabelProps=function(props,text,type){var datum=props.datum,positions=props.positions,index=props.index,boxWidth=props.boxWidth,horizontal=props.horizontal,labelOrientation=props.labelOrientation,style=props.style,orientation="object"===typeof labelOrientation&&labelOrientation[type]||labelOrientation;labelOrientation="".concat(type,"Labels");var labelStyle=style[labelOrientation]||style.labels;style=horizontal?"end":"middle";labelOrientation=horizontal?"middle":"start";
props="number"===typeof props.whiskerWidth?props.whiskerWidth:boxWidth;var width="min"===type||"max"===type?props:boxWidth;boxWidth=function(coord){var sign={x:"left"===orientation?-1:1,y:"top"===orientation?-1:1};return positions[coord]+sign[coord]*width/2+sign[coord]*(labelStyle.padding||0)};return{text:text,datum:datum,index:index,style:labelStyle,y:horizontal?boxWidth("y"):positions[type],x:horizontal?positions[type]:boxWidth("x"),textAnchor:labelStyle.textAnchor||labelOrientation,verticalAnchor:labelStyle.verticalAnchor||
style,angle:labelStyle.angle}};exports.getBaseProps=function(props,fallbackProps){fallbackProps=_victoryCore.Helpers.modifyProps(props,fallbackProps,"boxplot");fallbackProps=props=(0,_assign3.default)({},fallbackProps,getCalculatedValues(fallbackProps));var events=fallbackProps.events,sharedEvents=fallbackProps.sharedEvents,scale=fallbackProps.scale,data=fallbackProps.data,boxScale=fallbackProps.horizontal?scale.x:scale.y;return data.reduce(function(acc,datum,index$jscomp$0){var eventKey=(0,_isNil2.default)(datum.eventKey)?
index$jscomp$0:datum.eventKey,positions={x:scale.x(datum._x),y:scale.y(datum._y),min:boxScale(datum._min),max:boxScale(datum._max),median:boxScale(datum._median),q1:boxScale(datum._q1),q3:boxScale(datum._q3)},dataProps=(0,_assign3.default)({index:index$jscomp$0,datum:datum,positions:positions},props);datum=TYPES.reduce(function(memo,type){if("median"===type){var JSCompiler_temp=dataProps.boxWidth;var horizontal=dataProps.horizontal,_props$positions3=dataProps.positions,median=_props$positions3.median,
x=_props$positions3.x;_props$positions3=_props$positions3.y;JSCompiler_temp={datum:dataProps.datum,scale:dataProps.scale,index:dataProps.index,x1:horizontal?median:x-JSCompiler_temp/2,y1:horizontal?_props$positions3-JSCompiler_temp/2:median,x2:horizontal?median:x+JSCompiler_temp/2,y2:horizontal?_props$positions3+JSCompiler_temp/2:median,style:dataProps.style.median}}else if("min"===type||"max"===type){JSCompiler_temp=dataProps.horizontal;horizontal=dataProps.style;x=dataProps.boxWidth;_props$positions3=
dataProps.whiskerWidth;var _props$positions=dataProps.positions,min=_props$positions.min,max=_props$positions.max,q1=_props$positions.q1,q3=_props$positions.q3;median=_props$positions.x;_props$positions=_props$positions.y;q1="min"===type?q1:q3;min="min"===type?min:max;x="number"===typeof _props$positions3?_props$positions3:x;JSCompiler_temp={datum:dataProps.datum,index:dataProps.index,scale:dataProps.scale,majorWhisker:{x1:JSCompiler_temp?q1:median,y1:JSCompiler_temp?_props$positions:q1,x2:JSCompiler_temp?
min:median,y2:JSCompiler_temp?_props$positions:min},minorWhisker:{x1:JSCompiler_temp?min:median-x/2,y1:JSCompiler_temp?_props$positions-x/2:min,x2:JSCompiler_temp?min:median+x/2,y2:JSCompiler_temp?_props$positions+x/2:min},style:horizontal[type]||horizontal.whisker}}else JSCompiler_temp=dataProps.horizontal,horizontal=dataProps.boxWidth,median=dataProps.style,max=dataProps.positions,x=max.median,_props$positions3=max.q1,_props$positions=max.q3,min=max.x,max=max.y,JSCompiler_temp={datum:dataProps.datum,
scale:dataProps.scale,index:dataProps.index,x:JSCompiler_temp?"q1"===type?_props$positions3:x:min-horizontal/2,y:JSCompiler_temp?max-horizontal/2:"q1"===type?x:_props$positions,width:JSCompiler_temp?"q1"===type?x-_props$positions3:_props$positions-x:horizontal,height:JSCompiler_temp?horizontal:"q1"===type?_props$positions3-x:x-_props$positions,style:median[type]||median.boxes};memo[type]=JSCompiler_temp;return memo},{});acc[eventKey]=datum;TYPES.forEach(function(type){var labelText=dataProps.datum;
var index=dataProps.index,labels=dataProps.labels,propName="".concat(type,"Labels");(propName=dataProps[propName])||labels?!0===propName||!0===labels?(index="_".concat(type),labelText="".concat(labelText[index])):labelText=Array.isArray(propName)?propName[index]:propName:labelText=null;index=props.labels||props["".concat(type,"Labels")];if(null!==labelText&&void 0!==labelText||index&&(events||sharedEvents))index="".concat(type,"Labels"),acc[eventKey][index]=getLabelProps(dataProps,labelText,type)});
return acc},{parent:{domain:fallbackProps.domain,scale:scale,width:fallbackProps.width,height:fallbackProps.height,data:data,standalone:fallbackProps.standalone,name:fallbackProps.name,theme:fallbackProps.theme,style:fallbackProps.style.parent||{},padding:fallbackProps.padding,groupComponent:fallbackProps.groupComponent}})}}
//# sourceMappingURL=module$node_modules$victory_box_plot$lib$helper_methods.js.map
