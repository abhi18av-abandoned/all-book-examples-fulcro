shadow$provide.module$node_modules$victory_core$lib$victory_util$axis=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||
"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function getAxis(props){return props.orientation?{top:"x",bottom:"x",left:"y",right:"y"}[props.orientation]:props.dependentAxis?"y":"x"}function getCurrentAxis(axis,horizontal){return horizontal?"x"===axis?"y":"x":axis}function findAxisComponents(childComponents,predicate){predicate=predicate||_identity2.default;
var findAxes=function(children){return children.reduce(function(memo,child){return child.type&&"axis"===child.type.role&&predicate(child)?memo.concat(child):child.props&&child.props.children?memo.concat(findAxes(_react.default.Children.toArray(child.props.children))):memo},[])};return findAxes(childComponents)}function isVertical(props){return{top:!1,bottom:!1,left:!0,right:!0}[props.orientation||(props.dependentAxis?"left":"bottom")]}function stringTicks(props){return void 0!==props.tickValues&&
_collection.default.containsStrings(props.tickValues)}function getDefaultTickFormat(props){var tickValues=props.tickValues,axis=getAxis(props);axis=getCurrentAxis(axis,props.horizontal);axis=props.stringMap&&props.stringMap[axis];var fallbackFormat=tickValues&&!_collection.default.containsDates(tickValues)?function(x){return x}:void 0;if(axis){var invertedStringMap=axis&&(0,_invert2.default)(axis);props=(0,_orderBy2.default)((0,_values2.default)(axis),function(n){return n}).map(function(tick){return invertedStringMap[tick]});
var dataTicks=[""].concat(_toConsumableArray(props),[""]);return function(x){return dataTicks[x]}}return stringTicks(props)?function(x,index){return tickValues[index]}:fallbackFormat}function getStringTicks(props){var axis=getAxis(props),currentAxis=getCurrentAxis(axis,props.horizontal),stringMap=props.stringMap&&props.stringMap[currentAxis];props=(props=Array.isArray(props.categories)?props.categories:props.categories&&props.categories[axis])&&_collection.default.containsOnlyStrings(props)?props.map(function(tick){return stringMap[tick]}):
void 0;axis=stringMap&&(0,_values2.default)(stringMap);return props&&0!==props.length?props:axis}function getTickArray(props){var tickValues=props.tickValues,tickFormat=props.tickFormat,axis=getAxis(props),currentAxis=getCurrentAxis(axis,props.horizontal),stringMap=props.stringMap&&props.stringMap[currentAxis];currentAxis=function(){if(tickFormat&&Array.isArray(tickFormat))return _collection.default.containsStrings(tickFormat)?tickFormat.map(function(t,i){return i}):tickFormat};var ticks=tickValues;
stringMap&&(ticks=getStringTicks(props));tickValues&&_collection.default.containsStrings(tickValues)&&(ticks=stringMap?tickValues.map(function(tick){return stringMap[tick]}):(0,_range2.default)(1,tickValues.length+1));tickValues=ticks?(0,_uniq2.default)(ticks):currentAxis(props);currentAxis=function(arr){var domain=props.domain&&props.domain[axis]||props.domain;return Array.isArray(domain)?arr.filter(function(t){return t>=Math.min.apply(Math,_toConsumableArray(domain))&&t<=Math.max.apply(Math,_toConsumableArray(domain))}):
arr};return Array.isArray(tickValues)&&tickValues.length?currentAxis(tickValues):void 0}function downsampleTicks(ticks,tickCount){if(!tickCount||!Array.isArray(ticks)||ticks.length<=tickCount)return ticks;var k=Math.floor(ticks.length/tickCount);return ticks.filter(function(d,i){return 0===i%k})}function getDomainFromData(props,axis){var polar=props.polar,_props$startAngle=props.startAngle;_props$startAngle=void 0===_props$startAngle?0:_props$startAngle;var _props$endAngle=props.endAngle;_props$endAngle=
void 0===_props$endAngle?360:_props$endAngle;var tickValues=getTickArray(props);if(Array.isArray(tickValues)){var minDomain=_domain.default.getMinFromProps(props,axis),maxDomain=_domain.default.getMaxFromProps(props,axis),tickStrings=stringTicks(props),ticks=tickValues.map(function(value){return+value}),defaultMin=tickStrings?1:_collection.default.getMinValue(ticks);tickValues=tickStrings?tickValues.length:_collection.default.getMaxValue(ticks);minDomain=_domain.default.getDomainFromMinMax(void 0!==
minDomain?minDomain:defaultMin,void 0!==maxDomain?maxDomain:tickValues);axis=polar&&"x"===axis&&360===Math.abs(_props$startAngle-_props$endAngle)?_domain.default.getSymmetricDomain(minDomain,ticks):minDomain;isVertical(props)&&!polar&&axis.reverse();return axis}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _without2=_interopRequireDefault(require("module$node_modules$lodash$without")),_includes2=_interopRequireDefault(require("module$node_modules$lodash$includes")),
_values2=_interopRequireDefault(require("module$node_modules$lodash$values")),_orderBy2=_interopRequireDefault(require("module$node_modules$lodash$orderBy")),_range2=_interopRequireDefault(require("module$node_modules$lodash$range")),_uniq2=_interopRequireDefault(require("module$node_modules$lodash$uniq")),_invert2=_interopRequireDefault(require("module$node_modules$lodash$invert")),_isObject2=_interopRequireDefault(require("module$node_modules$lodash$isObject")),_isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),
_identity2=_interopRequireDefault(require("module$node_modules$lodash$identity")),_react=_interopRequireDefault(require("module$node_modules$react$index")),_collection=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$collection")),_domain=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$domain"));exports.default={getTicks:function(props,scale,filterZero){var tickCount=props.tickCount;return(props=getTickArray(props))?downsampleTicks(props,
tickCount):scale.ticks&&(0,_isFunction2.default)(scale.ticks)?(props=scale.ticks(tickCount||5),scale=Array.isArray(props)&&props.length?props:scale.domain(),tickCount=downsampleTicks(scale,tickCount),filterZero?(filterZero=(0,_includes2.default)(tickCount,0)?(0,_without2.default)(tickCount,0):tickCount,filterZero.length?filterZero:tickCount):tickCount):scale.domain()},getTickFormat:function(props,scale){var tickFormat=props.tickFormat,axis=getAxis(props);axis=getCurrentAxis(axis,props.horizontal);
var stringMap=props.stringMap&&props.stringMap[axis];if(tickFormat)return tickFormat&&Array.isArray(tickFormat)?function(x,index){return tickFormat[index]}:tickFormat&&(0,_isFunction2.default)(tickFormat)?(scale=function(tick,index,ticks){var invertedStringMap=(0,_invert2.default)(stringMap);ticks=ticks.map(function(t){return invertedStringMap[t]});return props.tickFormat(invertedStringMap[tick],index,ticks)},stringMap?scale:tickFormat):function(x){return x};axis=getDefaultTickFormat(props);scale=
scale.tickFormat&&(0,_isFunction2.default)(scale.tickFormat)?scale.tickFormat():function(x){return x};return axis||scale},getAxis:getAxis,getAxisComponent:function(childComponents,axis){return findAxisComponents(childComponents,function(component){return component.type.getAxis(component.props)===axis})[0]},getAxisComponentsWithParent:function(childComponents,type){var findComponents=function(children){return children.reduce(function(memo,child){return child.type&&"axis"===child.type.role&&("dependent"===
type?child.props.dependentAxis:!child.props.dependentAxis)?memo.concat(child):child.props&&child.props.children?0<findComponents(_react.default.Children.toArray(child.props.children)).length?memo.concat(child):memo:memo},[])};return findComponents(childComponents)},getOrientation:function(component,axis,originSign){if(component&&component.props&&component.props.orientation)return component.props.orientation;originSign=originSign||"positive";var typicalOrientations={positive:{x:"bottom",y:"left"},
negative:{x:"top",y:"right"}},flippedOrientations={positive:{x:"left",y:"bottom"},negative:{x:"right",y:"top"}};if(!component)return typicalOrientations[originSign][axis];component=component.props.dependentAxis;return!component&&"y"===axis||component&&"x"===axis?flippedOrientations[originSign][axis]:typicalOrientations[originSign][axis]},getCurrentAxis:getCurrentAxis,findAxisComponents:findAxisComponents,getOrigin:function(domain){var getSingleOrigin=function(d){var domainMin=Math.min.apply(Math,
_toConsumableArray(d));d=Math.max.apply(Math,_toConsumableArray(d));return 0>d?d:Math.max(0,domainMin)};return{x:_collection.default.containsDates(domain.x)?new Date(Math.min.apply(Math,_toConsumableArray(domain.x))):getSingleOrigin(domain.x),y:_collection.default.containsDates(domain.y)?new Date(Math.min.apply(Math,_toConsumableArray(domain.y))):getSingleOrigin(domain.y)}},getOriginSign:function(origin,domain){return _collection.default.containsDates(domain)?"positive":0>=origin&&0>=Math.max.apply(Math,
_toConsumableArray(domain))?"negative":"positive"},getDomain:function(props,axis){var inherentAxis=getAxis(props);if(!axis||axis===inherentAxis)return _domain.default.createDomainFunction(getDomainFromData)(props,inherentAxis)},isVertical:isVertical,stringTicks:stringTicks,getAxisValue:function(props,axis){if(props.axisValue){var scaleAxis="x"===axis?"y":"x";if(scaleAxis=(0,_isObject2.default)(props.scale)&&(0,_isFunction2.default)(props.scale[scaleAxis])?props.scale[scaleAxis]:void 0)return axis=
"x"===getCurrentAxis(axis,props.horizontal)?"y":"x",axis=(0,_isObject2.default)(props.stringMap)&&props.stringMap[axis],scaleAxis(axis&&"string"===typeof props.axisValue?axis[props.axisValue]:props.axisValue)}}}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$axis.js.map
