shadow$provide.module$node_modules$victory_core$lib$victory_label$victory_label=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,
protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?
Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _uniqueId2=_interopRequireDefault(require("module$node_modules$lodash$uniqueId")),_isEmpty2=_interopRequireDefault(require("module$node_modules$lodash$isEmpty")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_react=_interopRequireDefault(require("module$node_modules$react$index"));
global=_interopRequireDefault(require("module$node_modules$prop_types$index"));var _victoryPortal=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_portal$victory_portal"));module=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$prop_types"));var _helpers=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$helpers")),_labelHelpers=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$label_helpers")),
_style=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$style")),_log=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$log")),_tspan=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_primitives$tspan"));require=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_primitives$text"));var defaultStyles={fill:"#252525",fontSize:14,fontFamily:"'Gill Sans', 'Gill Sans MT', 'SerÂ­avek', 'Trebuchet MS', sans-serif",
stroke:"transparent"},VictoryLabel=function(_React$Component){function VictoryLabel(props){if(!(this instanceof VictoryLabel))throw new TypeError("Cannot call a class as a function");var _this=(VictoryLabel.__proto__||Object.getPrototypeOf(VictoryLabel)).call(this,props);if(!_this||"object"!==typeof _this&&"function"!==typeof _this){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");_this=this}_this.id=void 0===props.id?(0,_uniqueId2.default)("label-"):
props.id;return _this}_inherits(VictoryLabel,_React$Component);_createClass(VictoryLabel,[{key:"getPosition",value:function(props,dimension){return props.datum?_helpers.default.scalePoint(props,props.datum)[dimension]:0}},{key:"getStyle",value:function(props,style){style=style?(0,_defaults2.default)({},style,defaultStyles):defaultStyles;props=_helpers.default.evaluateStyle(style,props.datum||props.data,props.active);return(0,_assign2.default)({},props,{fontSize:this.getFontSize(props)})}},{key:"getStyles",
value:function(props){var _this2=this;return Array.isArray(props.style)&&!(0,_isEmpty2.default)(props.style)?props.style.map(function(style){return _this2.getStyle(props,style)}):[this.getStyle(props,props.style)]}},{key:"getHeight",value:function(props,type){return _helpers.default.evaluateProp(props[type],props.datum||props.data,props.active)}},{key:"getContent",value:function(props){if(void 0!==props.text&&null!==props.text){var datum=props.datum||props.data;if(Array.isArray(props.text))return props.text.map(function(line){return _helpers.default.evaluateProp(line,
datum,props.active)});var child=_helpers.default.evaluateProp(props.text,datum,props.active);if(void 0!==child&&null!==child)return"".concat(child).split("\n")}}},{key:"getDy",value:function(props,style,content,lineHeight){style=Array.isArray(style)?style[0]:style;lineHeight=this.checkLineHeight(lineHeight,lineHeight[0],1);var fontSize=style.fontSize,datum=props.datum||props.data,dy=props.dy?_helpers.default.evaluateProp(props.dy,datum,props.active):0;content=content.length;var capHeight=this.getHeight(props,
"capHeight");props=style.verticalAnchor||props.verticalAnchor;switch(props?_helpers.default.evaluateProp(props,datum):"middle"){case "end":return dy+(capHeight/2+(.5-content)*lineHeight)*fontSize;case "middle":return dy+(capHeight/2+(.5-content/2)*lineHeight)*fontSize;default:return dy+(capHeight/2+lineHeight/2)*fontSize}}},{key:"checkLineHeight",value:function(lineHeight,val,fallbackVal){return Array.isArray(lineHeight)?(0,_isEmpty2.default)(lineHeight)?fallbackVal:val:lineHeight}},{key:"getTransform",
value:function(props,style){var active=props.active,datum=props.datum,x=props.x,y=props.y,defaultAngle=props.polar?_labelHelpers.default.getPolarAngle(props):0,baseAngle=void 0===style.angle?props.angle:style.angle;defaultAngle=void 0===baseAngle?defaultAngle:baseAngle;active=(props=props.transform||style.transform)&&_helpers.default.evaluateProp(props,datum,active);x=defaultAngle&&{rotate:[defaultAngle,x,y]};return active||defaultAngle?_style.default.toTransformString(active,x):void 0}},{key:"getFontSize",
value:function(style){style=style&&style.fontSize;if("number"===typeof style)return style;if(void 0!==style&&null!==style&&"string"===typeof style)if(style=+style.replace("px",""),isNaN(style))_log.default.warn("fontSize should be expressed as a number of pixels");else return style;return defaultStyles.fontSize}},{key:"renderElements",value:function(props,content){var _this3=this,datum=props.datum,active=props.active,inline=props.inline,className=props.className,title=props.title,desc=props.desc,
events=props.events,direction=props.direction,style=this.getStyles(props),lineHeight=this.getHeight(props,"lineHeight"),textAnchor=props.textAnchor?_helpers.default.evaluateProp(props.textAnchor,datum,active):"start",dx=props.dx?_helpers.default.evaluateProp(props.dx,datum,active):0;datum=this.getDy(props,style,content,lineHeight);active=this.getTransform(props,style);var x=void 0!==props.x?props.x:this.getPosition(props,"x"),y=void 0!==props.y?props.y:this.getPosition(props,"y");content=content.map(function(line,
i){var currentStyle=style[i]||style[0],fontSize=(currentStyle.fontSize+(style[i-1]||style[0]).fontSize)/2,currentLineHeight=_this3.checkLineHeight(lineHeight,(lineHeight[i]+(lineHeight[i-1]||lineHeight[0]))/2,1);line={key:"".concat(_this3.id,"-key-").concat(i),x:inline?void 0:props.x,dx:dx,dy:i&&!inline?currentLineHeight*fontSize:void 0,textAnchor:currentStyle.textAnchor||textAnchor,style:currentStyle,content:line};return _react.default.cloneElement(props.tspanComponent,line)});return _react.default.cloneElement(props.textComponent,
{direction:direction,dx:dx,dy:datum,x:x,y:y,events:events,transform:active,className:className,title:title,desc:desc,id:this.id},content)}},{key:"render",value:function(){var content=this.getContent(this.props);if(null===content||void 0===content)return null;content=this.renderElements(this.props,content);return this.props.renderInPortal?_react.default.createElement(_victoryPortal.default,null,content):content}}]);return VictoryLabel}(_react.default.Component);exports.default=VictoryLabel;Object.defineProperty(VictoryLabel,
"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryLabel"});Object.defineProperty(VictoryLabel,"role",{configurable:!0,enumerable:!0,writable:!0,value:"label"});Object.defineProperty(VictoryLabel,"defaultStyles",{configurable:!0,enumerable:!0,writable:!0,value:defaultStyles});Object.defineProperty(VictoryLabel,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{active:global.default.bool,angle:global.default.oneOfType([global.default.string,global.default.number]),capHeight:global.default.oneOfType([global.default.string,
module.default.nonNegative,global.default.func]),className:global.default.string,data:global.default.array,datum:global.default.any,desc:global.default.string,direction:global.default.oneOf(["rtl","ltr","inherit"]),dx:global.default.oneOfType([global.default.number,global.default.string,global.default.func]),dy:global.default.oneOfType([global.default.number,global.default.string,global.default.func]),events:global.default.object,id:global.default.oneOfType([global.default.number,global.default.string]),
index:global.default.oneOfType([global.default.number,global.default.string]),inline:global.default.bool,labelPlacement:global.default.oneOf(["parallel","perpendicular","vertical"]),lineHeight:global.default.oneOfType([global.default.string,module.default.nonNegative,global.default.func,global.default.array]),origin:global.default.shape({x:module.default.nonNegative,y:module.default.nonNegative}),polar:global.default.bool,renderInPortal:global.default.bool,scale:global.default.shape({x:module.default.scale,
y:module.default.scale}),style:global.default.oneOfType([global.default.object,global.default.array]),text:global.default.oneOfType([global.default.string,global.default.number,global.default.func,global.default.array]),textAnchor:global.default.oneOfType([global.default.oneOf(["start","middle","end","inherit"]),global.default.func]),textComponent:global.default.element,title:global.default.string,transform:global.default.oneOfType([global.default.string,global.default.object,global.default.func]),
tspanComponent:global.default.element,verticalAnchor:global.default.oneOfType([global.default.oneOf(["start","middle","end"]),global.default.func]),x:global.default.oneOfType([global.default.number,global.default.string]),y:global.default.oneOfType([global.default.number,global.default.string])}});Object.defineProperty(VictoryLabel,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{direction:"inherit",textComponent:_react.default.createElement(require.default,null),tspanComponent:_react.default.createElement(_tspan.default,
null),capHeight:.71,lineHeight:1}})}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_label$victory_label.js.map
