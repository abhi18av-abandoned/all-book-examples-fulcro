shadow$provide.module$node_modules$victory_core$lib$victory_util$transitions=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getKeyedData(data){return data.reduce(function(keyedData,datum,idx){keyedData[(datum.key||idx).toString()]=datum;return keyedData},{})}function getKeyedDataDifference(a,b){var hasDifference=!1;a=Object.keys(a).reduce(function(_difference,key){key in b||(hasDifference=!0,_difference[key]=!0);return _difference},
{});return hasDifference&&a}function getChildData(child){return child.type&&child.type.getData?child.type.getData(child.props):child.props&&child.props.data||!1}function getInitialChildProps(animate,data){var after=animate.onEnter&&animate.onEnter.after?animate.onEnter.after:_identity2.default;return{data:data.map(function(datum,idx){return(0,_assign2.default)({},datum,after(datum,idx,data))})}}function getChildBeforeLoad(animate,child,data,cb){if((animate=(0,_assign2.default)({},animate,{onEnd:cb}))&&
animate.onLoad&&!animate.onLoad.duration)return{animate:animate,data:data};var before=animate.onLoad&&animate.onLoad.before?animate.onLoad.before:_identity2.default;data=data.map(function(datum,idx){return(0,_assign2.default)({},datum,before(datum,idx,data))});return{animate:animate,data:data,clipWidth:0}}function getChildOnLoad(animate,data,cb){if((animate=(0,_assign2.default)({},animate,{onEnd:cb}))&&animate.onLoad&&!animate.onLoad.duration)return{animate:animate,data:data};var after=animate.onLoad&&
animate.onLoad.after?animate.onLoad.after:_identity2.default;data=data.map(function(datum,idx){return(0,_assign2.default)({},datum,after(datum,idx,data))});return{animate:animate,data:data}}function getChildPropsOnExit(animate,child,data,exitingNodes,cb){child=animate&&animate.onExit;animate=(0,_assign2.default)({},animate,child);if(exitingNodes){animate.onEnd=cb;var before=animate.onExit&&animate.onExit.before?animate.onExit.before:_identity2.default;data=data.map(function(datum,idx){return exitingNodes[(datum.key||
idx).toString()]?(0,_assign2.default)({},datum,before(datum,idx,data)):datum})}return{animate:animate,data:data}}function getChildPropsBeforeEnter(animate,child,data,enteringNodes,cb){if(enteringNodes){animate=(0,_assign2.default)({},animate,{onEnd:cb});var before=animate.onEnter&&animate.onEnter.before?animate.onEnter.before:_identity2.default;data=data.map(function(datum,idx){return enteringNodes[(datum.key||idx).toString()]?(0,_assign2.default)({},datum,before(datum,idx,data)):datum})}return{animate:animate,
data:data}}function getChildPropsOnEnter(animate,data,enteringNodes,cb){var onEnter=animate&&animate.onEnter;animate=(0,_assign2.default)({},animate,onEnter);if(enteringNodes){animate.onEnd=cb;var after=animate.onEnter&&animate.onEnter.after?animate.onEnter.after:_identity2.default;data=data.map(function(datum,idx){return enteringNodes[(datum.key||idx).toString()]?(0,_assign2.default)({},datum,after(datum,idx,data)):datum})}return{animate:animate,data:data}}Object.defineProperty(exports,"__esModule",
{value:!0});exports.default=void 0;var _identity2=_interopRequireDefault(require("module$node_modules$lodash$identity")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_react=_interopRequireDefault(require("module$node_modules$react$index"));exports.default={getInitialTransitionState:function(oldChildren,nextChildren){var nodesWillExit=!1,nodesWillEnter=!1,getTransitionsFromChildren=function(old,
next){return old.map(function(child,idx){if(child&&child.props&&child.props.children&&next[idx])return getTransitionsFromChildren(_react.default.Children.toArray(old[idx].props.children),_react.default.Children.toArray(next[idx].props.children));if((idx=next[idx])&&child.type===idx.type){child=getChildData(child);idx=getChildData(idx);child=child&&getKeyedData(child);var nextDataKeyed=idx&&getKeyedData(idx);idx=child&&getKeyedDataDifference(nextDataKeyed,child);child=nextDataKeyed&&getKeyedDataDifference(child,
nextDataKeyed);nodesWillExit=nodesWillExit||!!child;nodesWillEnter=nodesWillEnter||!!idx;child={entering:idx||!1,exiting:child||!1}}else child={};return child})};oldChildren=getTransitionsFromChildren(_react.default.Children.toArray(oldChildren),_react.default.Children.toArray(nextChildren));return{nodesWillExit:nodesWillExit,nodesWillEnter:nodesWillEnter,childrenTransitions:oldChildren,nodesShouldEnter:!1}},getTransitionPropsFactory:function(props,state,setState){var nodesWillExit=state&&state.nodesWillExit,
nodesWillEnter=state&&state.nodesWillEnter,nodesShouldEnter=state&&state.nodesShouldEnter,nodesShouldLoad=state&&state.nodesShouldLoad,nodesDoneLoad=state&&state.nodesDoneLoad,childrenTransitions=state&&state.childrenTransitions||[],JSCompiler_object_inline_enter_2792=props.animate&&props.animate.onEnter&&props.animate.onEnter.duration,JSCompiler_object_inline_exit_2793=props.animate&&props.animate.onExit&&props.animate.onExit.duration,JSCompiler_object_inline_load_2794=props.animate&&props.animate.onLoad&&
props.animate.onLoad.duration,JSCompiler_object_inline_move_2795=props.animate&&props.animate.duration,onLoad=function(child,data,animate){return nodesShouldLoad?getChildOnLoad(animate,data,function(){setState({nodesShouldLoad:!1,nodesDoneLoad:!0})}):getChildBeforeLoad(animate,child,data,function(){setState({nodesDoneLoad:!0})})},onExit=function(nodes,child,data,animate){return getChildPropsOnExit(animate,child,data,nodes,function(){setState({nodesWillExit:!1})})},onEnter=function(nodes,child,data,
animate){return nodesShouldEnter?getChildPropsOnEnter(animate,data,nodes,function(){setState({nodesWillEnter:!1})}):getChildPropsBeforeEnter(animate,child,data,nodes,function(){setState({nodesShouldEnter:!0})})},getChildTransitionDuration=function(child,type){var animate=child.props.animate;return child.type?(child=child.props&&child.props.polar?child.type.defaultPolarTransitions||child.type.defaultTransitions:child.type.defaultTransitions)?(animate=animate[type]&&animate[type].duration,void 0!==
animate?animate:child[type]&&child[type].duration):{}:{}};return function(child,index){var data=getChildData(child)||[],animate=(0,_defaults2.default)({},props.animate,child.props.animate),defaultTransitions=child.props.polar?child.type.defaultPolarTransitions||child.type.defaultTransitions:child.type.defaultTransitions;animate.onExit=(0,_defaults2.default)({},animate.onExit,defaultTransitions&&defaultTransitions.onExit);animate.onEnter=(0,_defaults2.default)({},animate.onEnter,defaultTransitions&&
defaultTransitions.onEnter);animate.onLoad=(0,_defaults2.default)({},animate.onLoad,defaultTransitions&&defaultTransitions.onLoad);index=childrenTransitions[index]||childrenTransitions[0];if(nodesDoneLoad){if(nodesWillExit)return index=index&&index.exiting,defaultTransitions=void 0!==JSCompiler_object_inline_exit_2793?JSCompiler_object_inline_exit_2793:getChildTransitionDuration(child,"onExit"),defaultTransitions=index?{duration:defaultTransitions}:{delay:defaultTransitions},onExit(index,child,data,
(0,_assign2.default)({},animate,defaultTransitions));if(nodesWillEnter){index=index&&index.entering;defaultTransitions=void 0!==JSCompiler_object_inline_enter_2792?JSCompiler_object_inline_enter_2792:getChildTransitionDuration(child,"onEnter");var move=void 0!==JSCompiler_object_inline_move_2795?JSCompiler_object_inline_move_2795:child.props.animate&&child.props.animate.duration;defaultTransitions={duration:nodesShouldEnter&&index?defaultTransitions:move};return onEnter(index,child,data,(0,_assign2.default)({},
animate,defaultTransitions))}if(!state&&animate&&animate.onExit)return getInitialChildProps(animate,data)}else return index={duration:void 0!==JSCompiler_object_inline_load_2794?JSCompiler_object_inline_load_2794:getChildTransitionDuration(child,"onLoad")},onLoad(child,data,(0,_assign2.default)({},animate,index));return{animate:animate,data:data}}}}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$transitions.js.map
