shadow$provide.module$node_modules$victory_tooltip$lib$victory_tooltip=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||
"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,
protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?
Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _uniqueId2=_interopRequireDefault(require("module$node_modules$lodash$uniqueId")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_react=_interopRequireDefault(require("module$node_modules$react$index"));global=_interopRequireDefault(require("module$node_modules$prop_types$index"));
var _victoryCore=require("module$node_modules$victory_core$lib$index");require=_interopRequireDefault(require("module$node_modules$victory_tooltip$lib$flyout"));var fallbackProps={cornerRadius:5,pointerLength:10,pointerWidth:10};module=function(_React$Component){function VictoryTooltip(props){if(!(this instanceof VictoryTooltip))throw new TypeError("Cannot call a class as a function");var _this=(VictoryTooltip.__proto__||Object.getPrototypeOf(VictoryTooltip)).call(this,props);if(!_this||"object"!==
typeof _this&&"function"!==typeof _this){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");_this=this}_this.id=void 0===props.id?(0,_uniqueId2.default)("tooltip-"):props.id;return _this}_inherits(VictoryTooltip,_React$Component);_createClass(VictoryTooltip,[{key:"getDefaultOrientation",value:function(props){var datum=props.datum,horizontal=props.horizontal;return props.polar?this.getPolarOrientation(props,datum):datum&&0>datum.y?horizontal?"left":
"bottom":horizontal?"right":"top"}},{key:"getPolarOrientation",value:function(props,datum){datum=_victoryCore.LabelHelpers.getDegrees(props,datum);props=props.labelPlacement||"vertical";return" vertical"===props?this.getVerticalOrientations(datum):"parallel"===props?90>datum||270<datum?"right":"left":180<datum?"bottom":"top"}},{key:"getVerticalOrientations",value:function(degrees){return 45>degrees||315<degrees?"right":45<=degrees&&135>=degrees?"top":135<degrees&&225>degrees?"left":"bottom"}},{key:"getEvaluatedProps",
value:function(props){var horizontal=props.horizontal,datum=props.datum,pointerLength=props.pointerLength,pointerWidth=props.pointerWidth,cornerRadius=props.cornerRadius,width=props.width,height=props.height,dx=props.dx,dy=props.dy,text=props.text,active=props.active,style=Array.isArray(props.style)?props.style.map(function(s){return _victoryCore.Helpers.evaluateStyle(s,datum,active)}):_victoryCore.Helpers.evaluateStyle(props.style,datum,active),flyoutStyle=_victoryCore.Helpers.evaluateStyle(props.flyoutStyle,
datum,active),padding=flyoutStyle&&flyoutStyle.padding||0,defaultDx=horizontal?padding:0;horizontal=horizontal?0:padding;padding=_victoryCore.Helpers.evaluateProp(props.orientation,datum,active)||this.getDefaultOrientation(props);return(0,_assign2.default)({},props,{style:style,flyoutStyle:flyoutStyle,orientation:padding,dx:void 0!==dx?_victoryCore.Helpers.evaluateProp(dx,datum,active):defaultDx,dy:void 0!==dy?_victoryCore.Helpers.evaluateProp(dy,datum,active):horizontal,cornerRadius:_victoryCore.Helpers.evaluateProp(cornerRadius,
datum,active),pointerLength:_victoryCore.Helpers.evaluateProp(pointerLength,datum,active),pointerWidth:_victoryCore.Helpers.evaluateProp(pointerWidth,datum,active),width:_victoryCore.Helpers.evaluateProp(width,datum,active),height:_victoryCore.Helpers.evaluateProp(height,datum,active),active:_victoryCore.Helpers.evaluateProp(active,datum,active),text:_victoryCore.Helpers.evaluateProp(text,datum,active)})}},{key:"getCalculatedValues",value:function(props){var style=props.style,text=props.text,datum=
props.datum,active=props.active,theme=props.theme||_victoryCore.VictoryTheme.grayscale,defaultLabelStyles=theme&&theme.tooltip&&theme.tooltip.style?theme.tooltip.style:{};style=Array.isArray(style)?style.map(function(s){return(0,_defaults2.default)({},s,defaultLabelStyles)}):(0,_defaults2.default)({},style,defaultLabelStyles);theme=theme&&theme.tooltip&&theme.tooltip.flyoutStyle?theme.tooltip.flyoutStyle:{};theme=props.flyoutStyle?(0,_defaults2.default)({},props.flyoutStyle,theme):theme;style=Array.isArray(style)?
style.map(function(s){return _victoryCore.Helpers.evaluateStyle(s,datum,active)}):_victoryCore.Helpers.evaluateStyle(style,datum,active);text=_victoryCore.TextSize.approximateTextSize(text,style);var flyoutDimensions=this.getDimensions(props,text,style),flyoutCenter=this.getFlyoutCenter(props,flyoutDimensions);props=this.getTransform(props);return{labelStyle:style,flyoutStyle:theme,labelSize:text,flyoutDimensions:flyoutDimensions,flyoutCenter:flyoutCenter,transform:props}}},{key:"getTransform",value:function(props){var x=
props.x,y=props.y;return(props=(props.style||{}).angle||props.angle||this.getDefaultAngle(props))?"rotate(".concat(props," ").concat(x," ").concat(y,")"):void 0}},{key:"getDefaultAngle",value:function(props){var labelPlacement=props.labelPlacement,orientation=props.orientation;if(!props.polar||!labelPlacement||"vertical"===labelPlacement)return 0;props=_victoryCore.LabelHelpers.getDegrees(props,props.datum);var angle;0===props||180===props?angle="top"===orientation&&180===props?270:90:0<props&&180>
props?angle=90-props:180<props&&360>props&&(angle=270-props);return angle+(90<props&&180>props||270<props?1:-1)*("perpendicular"===labelPlacement?0:90)}},{key:"getFlyoutCenter",value:function(props,dimensions){var x=props.x,y=props.y,dx=props.dx,dy=props.dy,pointerLength=props.pointerLength;props=props.orientation;var height=dimensions.height;dimensions=dimensions.width;return{x:"left"===props||"right"===props?x+("left"===props?-1:1)*(pointerLength+dimensions/2+dx):x+dx,y:"top"===props||"bottom"===
props?y-("bottom"===props?-1:1)*(pointerLength+height/2+dy):y-dy}}},{key:"getLabelPadding",value:function(style){if(!style)return 0;style=Array.isArray(style)?style.map(function(s){return s.padding}):[style.padding];return Math.max.apply(Math,_toConsumableArray(style).concat([0]))}},{key:"getDimensions",value:function(props,labelSize,labelStyle){var orientation=props.orientation,cornerRadius=props.cornerRadius,pointerLength=props.pointerLength,pointerWidth=props.pointerWidth;labelStyle=this.getLabelPadding(labelStyle);
return{height:props.height||Math.max("top"===orientation||"bottom"===orientation?2*cornerRadius:2*cornerRadius+pointerWidth,labelSize.height+labelStyle)+labelStyle/2,width:props.width||Math.max("left"===orientation||"right"===orientation?2*cornerRadius+pointerLength:2*cornerRadius,labelSize.width+labelStyle)+labelStyle}}},{key:"getLabelProps",value:function(props,calculatedValues){var flyoutCenter=calculatedValues.flyoutCenter,labelStyle=calculatedValues.labelStyle,labelSize=calculatedValues.labelSize,
dy=calculatedValues.dy;calculatedValues=calculatedValues.dx;var text=props.text,datum=props.datum,labelComponent=props.labelComponent,index=props.index;props=(Array.isArray(labelStyle)&&labelStyle.length?labelStyle[0].textAnchor:labelStyle.textAnchor)||"middle";var JSCompiler_temp_const=(0,_defaults2.default);labelComponent=labelComponent.props;index="".concat(this.id,"-label-").concat(index);return JSCompiler_temp_const({},labelComponent,{key:index,text:text,datum:datum,textAnchor:props,dy:dy,dx:calculatedValues,
style:labelStyle,x:props&&"middle"!==props?flyoutCenter.x-labelSize.width/2*("end"===props?-1:1):flyoutCenter.x,y:flyoutCenter.y,verticalAnchor:"middle",angle:labelStyle.angle})}},{key:"getFlyoutProps",value:function(props,calculatedValues){var flyoutDimensions=calculatedValues.flyoutDimensions;calculatedValues=calculatedValues.flyoutStyle;var x=props.x,y=props.y,dx=props.dx,dy=props.dy,datum=props.datum,index=props.index,orientation=props.orientation,pointerLength=props.pointerLength,pointerWidth=
props.pointerWidth,cornerRadius=props.cornerRadius,events=props.events;props=props.flyoutComponent;return(0,_defaults2.default)({},props.props,{x:x,y:y,dx:dx,dy:dy,datum:datum,index:index,orientation:orientation,pointerLength:pointerLength,pointerWidth:pointerWidth,cornerRadius:cornerRadius,events:events,key:"".concat(this.id,"-tooltip-").concat(index),width:flyoutDimensions.width,height:flyoutDimensions.height,style:calculatedValues})}},{key:"renderTooltip",value:function(props){var evaluatedProps=
this.getEvaluatedProps(props),flyoutComponent=evaluatedProps.flyoutComponent,labelComponent=evaluatedProps.labelComponent,groupComponent=evaluatedProps.groupComponent;props=evaluatedProps.renderInPortal;if(!evaluatedProps.active)return props?_react.default.createElement(_victoryCore.VictoryPortal,null,null):null;var calculatedValues=this.getCalculatedValues(evaluatedProps);evaluatedProps=[_react.default.cloneElement(flyoutComponent,this.getFlyoutProps(evaluatedProps,calculatedValues)),_react.default.cloneElement(labelComponent,
this.getLabelProps(evaluatedProps,calculatedValues))];groupComponent=_react.default.cloneElement(groupComponent,{role:"presentation",transform:calculatedValues.transform},evaluatedProps);return props?_react.default.createElement(_victoryCore.VictoryPortal,null,groupComponent):groupComponent}},{key:"render",value:function(){var props=_victoryCore.Helpers.modifyProps(this.props,fallbackProps,"tooltip");return this.renderTooltip(props)}}]);return VictoryTooltip}(_react.default.Component);exports.default=
module;Object.defineProperty(module,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryTooltip"});Object.defineProperty(module,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{activateData:global.default.bool,active:global.default.oneOfType([global.default.bool,global.default.func]),angle:global.default.number,cornerRadius:global.default.oneOfType([_victoryCore.PropTypes.nonNegative,global.default.func]),data:global.default.array,datum:global.default.object,dx:global.default.oneOfType([global.default.number,
global.default.func]),dy:global.default.oneOfType([global.default.number,global.default.func]),events:global.default.object,flyoutComponent:global.default.element,flyoutStyle:global.default.object,groupComponent:global.default.element,height:global.default.oneOfType([_victoryCore.PropTypes.nonNegative,global.default.func]),horizontal:global.default.bool,id:global.default.oneOfType([global.default.number,global.default.string]),index:global.default.oneOfType([global.default.number,global.default.string]),
labelComponent:global.default.element,orientation:global.default.oneOfType([global.default.oneOf(["top","bottom","left","right"]),global.default.func]),pointerLength:global.default.oneOfType([_victoryCore.PropTypes.nonNegative,global.default.func]),pointerWidth:global.default.oneOfType([_victoryCore.PropTypes.nonNegative,global.default.func]),polar:global.default.bool,renderInPortal:global.default.bool,style:global.default.oneOfType([global.default.object,global.default.array]),text:global.default.oneOfType([global.default.string,
global.default.number,global.default.func,global.default.array]),theme:global.default.object,width:global.default.oneOfType([_victoryCore.PropTypes.nonNegative,global.default.func]),x:global.default.number,y:global.default.number}});Object.defineProperty(module,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{active:!1,renderInPortal:!0,labelComponent:_react.default.createElement(_victoryCore.VictoryLabel,null),flyoutComponent:_react.default.createElement(require.default,null),groupComponent:_react.default.createElement("g",
null)}});Object.defineProperty(module,"defaultEvents",{configurable:!0,enumerable:!0,writable:!0,value:function(props){return[{target:"data",eventHandlers:{onMouseOver:function(){return props.activateData?[{target:"labels",mutation:function(){return{active:!0}}},{target:"data",mutation:function(){return{active:!0}}}]:[{target:"labels",mutation:function(){return{active:!0}}}]},onTouchStart:function(){return props.activateData?[{target:"labels",mutation:function(){return{active:!0}}},{target:"data",
mutation:function(){return{active:!0}}}]:[{target:"labels",mutation:function(){return{active:!0}}}]},onMouseOut:function(){return props.activateData?[{target:"labels",mutation:function(){return{active:void 0}}},{target:"data",mutation:function(){return{active:void 0}}}]:[{target:"labels",mutation:function(){return{active:void 0}}}]},onTouchEnd:function(){return props.activateData?[{target:"labels",mutation:function(){return{active:void 0}}},{target:"data",mutation:function(){return{active:void 0}}}]:
[{target:"labels",mutation:function(){return{active:void 0}}}]}}}]}})}
//# sourceMappingURL=module$node_modules$victory_tooltip$lib$victory_tooltip.js.map
