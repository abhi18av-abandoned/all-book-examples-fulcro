shadow$provide.module$node_modules$victory_polar_axis$lib$helper_methods=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.getBaseProps=exports.getStyles=exports.getScale=void 0;var _isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_uniqBy2=_interopRequireDefault(require("module$node_modules$lodash$uniqBy")),
_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_victoryCore=require("module$node_modules$victory_core$lib$index"),getPosition=function(r,angle,axis){return"x"===axis?r*Math.cos(angle):-r*Math.sin(angle)},getAxisType=function(props){var typicalType=props.dependentAxis?"radial":"angular";return props.horizontal?"angular"===typicalType?"radial":"angular":typicalType},filterTicks=function(ticks,scale){return(0,_uniqBy2.default)(ticks,function(t){return scale(t)%(2*Math.PI)})},
evaluateStyle=function(style,data,index){return style&&Object.keys(style).some(function(value){return(0,_isFunction2.default)(style[value])})?Object.keys(style).reduce(function(prev,curr){var JSCompiler_inline_result=style[curr];JSCompiler_inline_result=(0,_isFunction2.default)(JSCompiler_inline_result)?JSCompiler_inline_result(data,index):JSCompiler_inline_result;prev[curr]=JSCompiler_inline_result;return prev},{}):style},getEvaluatedStyles=function(style,tick,index){return{tickStyle:evaluateStyle(style.ticks,
tick,index),labelStyle:evaluateStyle(style.tickLabels,tick,index),gridStyle:evaluateStyle(style.grid,tick,index)}},getStyleObject=function(props){var theme=props.theme,generalAxisStyle=theme&&theme.axis&&theme.axis.style;props=props.dependentAxis?"dependentAxis":"independentAxis";var specificAxisStyle=theme&&theme[props]&&theme[props].style;theme=function(){return"axis axisLabel grid parent tickLabels ticks".split(" ").reduce(function(memo,curr){memo[curr]=(0,_defaults2.default)({},specificAxisStyle[curr],
generalAxisStyle[curr]);return memo},{})};return generalAxisStyle&&specificAxisStyle?theme():specificAxisStyle||generalAxisStyle},getRadius=function(props){var _Helpers$getPadding=_victoryCore.Helpers.getPadding(props);return Math.min(props.width-_Helpers$getPadding.left-_Helpers$getPadding.right,props.height-_Helpers$getPadding.top-_Helpers$getPadding.bottom)/2},getRange=function(props,axis){if(props.range&&props.range[axis])return props.range[axis];if(props.range&&Array.isArray(props.range))return props.range;
if("angular"===getAxisType(props))return axis=_victoryCore.Helpers.degreesToRadians(props.startAngle),props=_victoryCore.Helpers.degreesToRadians(props.endAngle),[axis,props];axis=getRadius(props);return[props.innerRadius||0,axis]},getScale=function(props){var axis=_victoryCore.Axis.getAxis(props),scale=_victoryCore.Scale.getBaseScale(props,axis),domain=_victoryCore.Axis.getDomain(props,axis)||scale.domain();props=getRange(props,axis);scale.range(props);scale.domain(domain);return scale};exports.getScale=
getScale;var getStyles=function(props,styleObject){props=props.style||{};styleObject=styleObject||{};return{parent:(0,_defaults2.default)({height:"auto",width:"100%"},props.parent,styleObject.parent),axis:(0,_defaults2.default)({},props.axis,styleObject.axis),axisLabel:(0,_defaults2.default)({},props.axisLabel,styleObject.axisLabel),grid:(0,_defaults2.default)({},props.grid,styleObject.grid),ticks:(0,_defaults2.default)({},props.ticks,styleObject.ticks),tickLabels:(0,_defaults2.default)({},props.tickLabels,
styleObject.tickLabels)}};exports.getStyles=getStyles;var getAxisAngle=function(props){var axisAngle=props.axisAngle,startAngle=props.startAngle,dependentAxis=props.dependentAxis,axis=_victoryCore.Axis.getAxis(props);props=_victoryCore.Axis.getAxisValue(props,axis);return void 0!==props&&dependentAxis?_victoryCore.Helpers.radiansToDegrees(props):void 0===axisAngle?startAngle:axisAngle},getAxisLabelProps=function(props,calculatedValues){var axisType=calculatedValues.axisType,radius=calculatedValues.radius,
style=calculatedValues.style,scale=calculatedValues.scale;calculatedValues=props.axisLabelComponent;if("radial"!==axisType)return{};calculatedValues=calculatedValues.props&&calculatedValues.props.labelPlacement?calculatedValues.props.labelPlacement:props.labelPlacement;style=style&&style.axisLabel||{};axisType="radial"===axisType?getAxisAngle(props,scale):void 0;scale=void 0===style.angle?_victoryCore.LabelHelpers.getPolarAngle((0,_assign2.default)({},props,{labelPlacement:calculatedValues}),axisType):
style.angle;radius+=style.padding||0;var textAnchor=style.textAnchor||_victoryCore.LabelHelpers.getTextPolarAnchor((0,_assign2.default)({},props,{labelPlacement:calculatedValues}),axisType);calculatedValues=style.verticalAnchor||_victoryCore.LabelHelpers.getPolarVerticalAnchor((0,_assign2.default)({},props,{labelPlacement:calculatedValues}),axisType);return{style:style,angle:scale,textAnchor:textAnchor,verticalAnchor:calculatedValues,text:props.label,x:getPosition(radius,_victoryCore.Helpers.degreesToRadians(axisType),
"x"),y:getPosition(radius,_victoryCore.Helpers.degreesToRadians(axisType),"y")}},getAxisProps=function(modifiedProps,calculatedValues){var style=calculatedValues.style,axisType=calculatedValues.axisType,radius=calculatedValues.radius,scale=calculatedValues.scale;calculatedValues=modifiedProps.startAngle;var endAngle=modifiedProps.endAngle,_modifiedProps$innerR=modifiedProps.innerRadius;_modifiedProps$innerR=void 0===_modifiedProps$innerR?0:_modifiedProps$innerR;modifiedProps="radial"===axisType?_victoryCore.Helpers.degreesToRadians(getAxisAngle(modifiedProps,
scale)):void 0;return"radial"===axisType?{style:style.axis,x1:getPosition(_modifiedProps$innerR,modifiedProps,"x"),x2:getPosition(radius,modifiedProps,"x"),y1:getPosition(_modifiedProps$innerR,modifiedProps,"y"),y2:getPosition(radius,modifiedProps,"y")}:{style:style.axis,cx:0,cy:0,r:radius,startAngle:calculatedValues,endAngle:endAngle}},modifyProps=function(props,fallbackProps,role){if("axis"!==role){var JSCompiler_temp_const=props.theme;var JSCompiler_inline_result=props.theme.axis||{};JSCompiler_inline_result=
(0,_defaults2.default)({},props.theme[role],JSCompiler_inline_result);JSCompiler_temp_const[role]=JSCompiler_inline_result}return _victoryCore.Helpers.modifyProps(props,fallbackProps,role)},getCalculatedValues=function(props){props=(0,_assign2.default)({polar:!0},props);var defaultStyles=getStyleObject(props);defaultStyles=getStyles(props,defaultStyles);var padding=_victoryCore.Helpers.getPadding(props),axis=_victoryCore.Axis.getAxis(props),axisType=getAxisType(props),stringTicks=_victoryCore.Axis.stringTicks(props)?
props.tickValues:void 0,domain=_victoryCore.Axis.getDomain(props,axis),range=getRange(props,axis),scale=getScale(props),initialTicks=_victoryCore.Axis.getTicks(props,scale);initialTicks="angular"===axisType?filterTicks(initialTicks,scale):initialTicks;var tickFormat=_victoryCore.Axis.getTickFormat(props,scale);props=getRadius(props);return{axis:axis,style:defaultStyles,padding:padding,stringTicks:stringTicks,axisType:axisType,scale:scale,ticks:initialTicks,tickFormat:tickFormat,domain:domain,range:range,
radius:props}};exports.getBaseProps=function(props$jscomp$0,fallbackProps){var role=props$jscomp$0.dependentAxis?props$jscomp$0.theme&&props$jscomp$0.theme.dependentAxis?"dependentAxis":"axis":props$jscomp$0.theme&&props$jscomp$0.theme.independentAxis?"independentAxis":"axis";props$jscomp$0=modifyProps(props$jscomp$0,fallbackProps,role);var calculatedValues=getCalculatedValues(props$jscomp$0);fallbackProps=calculatedValues.style;role=calculatedValues.scale;var ticks=calculatedValues.ticks,domain=
calculatedValues.domain,_props=props$jscomp$0,width=_props.width,height=_props.height,standalone=_props.standalone,theme=_props.theme;_props=_props.name;var axisProps=getAxisProps(props$jscomp$0,calculatedValues),axisLabelProps=getAxisLabelProps(props$jscomp$0,calculatedValues);return ticks.reduce(function(childProps,tick,index){var props=props$jscomp$0;var JSCompiler_inline_result=calculatedValues.axisType;var radius=calculatedValues.radius,scale=calculatedValues.scale,style=calculatedValues.style,
stringTicks=calculatedValues.stringTicks;stringTicks=getEvaluatedStyles(style,stringTicks?stringTicks[index]:tick,index).tickStyle;var tickPadding=stringTicks.padding||0;props="radial"===JSCompiler_inline_result?getAxisAngle(props,scale):void 0;JSCompiler_inline_result="angular"===JSCompiler_inline_result?{index:index,datum:tick,style:stringTicks,x1:radius*Math.cos(scale(tick)),y1:-radius*Math.sin(scale(tick)),x2:(radius+tickPadding)*Math.cos(scale(tick)),y2:-(radius+tickPadding)*Math.sin(scale(tick))}:
{style:style,index:index,datum:tick,x1:scale(tick)/2*Math.cos(props-tickPadding),x2:scale(tick)/2*Math.cos(props+tickPadding),y1:-(scale(tick)/2)*Math.sin(props-tickPadding),y2:-(scale(tick)/2)*Math.sin(props+tickPadding)};style=props$jscomp$0;stringTicks=calculatedValues.axisType;tickPadding=calculatedValues.radius;radius=calculatedValues.tickFormat;var scale$jscomp$0=calculatedValues.scale;scale=calculatedValues.ticks;props=calculatedValues.stringTicks;props=getEvaluatedStyles(calculatedValues.style,
props?props[index]:tick,index).labelStyle;var tickLabelComponent=style.tickLabelComponent;tickLabelComponent=tickLabelComponent.props&&tickLabelComponent.props.labelPlacement?tickLabelComponent.props.labelPlacement:style.labelPlacement;var tickPadding$jscomp$0=props.padding||0,axisAngle="radial"===stringTicks?getAxisAngle(style,scale$jscomp$0):void 0;axisAngle="angular"===stringTicks?_victoryCore.Helpers.radiansToDegrees(scale$jscomp$0(tick)):axisAngle+0;var textAngle=void 0===props.angle?_victoryCore.LabelHelpers.getPolarAngle((0,
_assign2.default)({},style,{labelPlacement:tickLabelComponent}),axisAngle):props.angle;stringTicks="angular"===stringTicks?tickPadding+tickPadding$jscomp$0:scale$jscomp$0(tick);style=props.textAnchor||_victoryCore.LabelHelpers.getPolarTextAnchor((0,_assign2.default)({},style,{labelPlacement:tickLabelComponent}),axisAngle);radius={index:index,datum:tick,style:props,angle:textAngle,textAnchor:style,text:radius(tick,index,scale),x:stringTicks*Math.cos(_victoryCore.Helpers.degreesToRadians(axisAngle)),
y:-stringTicks*Math.sin(_victoryCore.Helpers.degreesToRadians(axisAngle))};scale=calculatedValues.axisType;style=calculatedValues.radius;props=calculatedValues.scale;tickLabelComponent=calculatedValues.stringTicks;stringTicks=props$jscomp$0.startAngle;tickPadding=props$jscomp$0.endAngle;scale$jscomp$0=props$jscomp$0.innerRadius;scale$jscomp$0=void 0===scale$jscomp$0?0:scale$jscomp$0;tickLabelComponent=getEvaluatedStyles(calculatedValues.style,tickLabelComponent?tickLabelComponent[index]:tick,index).gridStyle;
axisAngle=props(tick);tick="angular"===scale?{index:index,datum:tick,style:tickLabelComponent,x1:getPosition(style,axisAngle,"x"),y1:getPosition(style,axisAngle,"y"),x2:getPosition(scale$jscomp$0,axisAngle,"x"),y2:getPosition(scale$jscomp$0,axisAngle,"y")}:{style:tickLabelComponent,index:index,datum:tick,cx:0,cy:0,r:props(tick),startAngle:stringTicks,endAngle:tickPadding};childProps[index]={axis:axisProps,axisLabel:axisLabelProps,ticks:JSCompiler_inline_result,tickLabels:radius,grid:tick};return childProps},
{parent:{style:fallbackProps.parent,ticks:ticks,scale:role,width:width,height:height,domain:domain,standalone:standalone,theme:theme,name:_props}})}}
//# sourceMappingURL=module$node_modules$victory_polar_axis$lib$helper_methods.js.map
