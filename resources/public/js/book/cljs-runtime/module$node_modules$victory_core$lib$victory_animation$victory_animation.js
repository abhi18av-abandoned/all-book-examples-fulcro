shadow$provide.module$node_modules$victory_core$lib$victory_animation$victory_animation=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in
Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,
protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?
Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;module=_interopRequireDefault(require("module$node_modules$react$index"));global=_interopRequireDefault(require("module$node_modules$prop_types$index"));var d3Ease=function(obj){if(obj&&obj.__esModule)return obj;
var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;return newObj}(require("module$node_modules$d3_ease$dist$d3_ease")),_util=require("module$node_modules$victory_core$lib$victory_animation$util"),_timer=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$timer")),
_reactFastCompare=_interopRequireDefault(require("module$node_modules$react_fast_compare$index"));require=function(_React$Component){function VictoryAnimation(props){if(!(this instanceof VictoryAnimation))throw new TypeError("Cannot call a class as a function");props=(VictoryAnimation.__proto__||Object.getPrototypeOf(VictoryAnimation)).call(this,props);props=!props||"object"!==typeof props&&"function"!==typeof props?_assertThisInitialized(this):props;props.state={data:Array.isArray(props.props.data)?
props.props.data[0]:props.props.data,animationInfo:{progress:0,animating:!1}};props.interpolator=null;props.queue=Array.isArray(props.props.data)?props.props.data.slice(1):[];props.ease=d3Ease[props.toNewName(props.props.easing)];props.functionToBeRunEachFrame=props.functionToBeRunEachFrame.bind(_assertThisInitialized(props));props.getTimer=props.getTimer.bind(_assertThisInitialized(props));return props}_inherits(VictoryAnimation,_React$Component);_createClass(VictoryAnimation,[{key:"componentDidMount",
value:function(){this.queue.length&&this.traverseQueue()}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){var equalProps=(0,_reactFastCompare.default)(this.props,nextProps);if(!equalProps){this.getTimer().unsubscribe(this.loopID);if(Array.isArray(nextProps.data)){var _queue;(_queue=this.queue).push.apply(_queue,_toConsumableArray(nextProps.data))}else this.queue.length=0,this.queue.push(nextProps.data);this.traverseQueue()}return nextState.animationInfo.animating||!equalProps}},
{key:"componentWillUnmount",value:function(){this.loopID?this.getTimer().unsubscribe(this.loopID):this.getTimer().stop()}},{key:"getTimer",value:function(){if(this.context.getTimer)return this.context.getTimer();this.timer||(this.timer=new _timer.default);return this.timer}},{key:"toNewName",value:function(ease){return"ease".concat(function(s){return s&&s[0].toUpperCase()+s.slice(1)}(ease))}},{key:"traverseQueue",value:function(){var _this2=this;if(this.queue.length){var data=this.queue[0];this.interpolator=
(0,_util.victoryInterpolator)(this.state.data,data);this.props.delay?setTimeout(function(){_this2.loopID=_this2.getTimer().subscribe(_this2.functionToBeRunEachFrame,_this2.props.duration)},this.props.delay):this.loopID=this.getTimer().subscribe(this.functionToBeRunEachFrame,this.props.duration)}else if(this.props.onEnd)this.props.onEnd()}},{key:"functionToBeRunEachFrame",value:function(elapsed,duration){elapsed=(duration=void 0!==duration?duration:this.props.duration)?elapsed/duration:1;1<=elapsed?
(this.setState({data:this.interpolator(1),animationInfo:{progress:1,animating:!1}}),this.loopID&&this.getTimer().unsubscribe(this.loopID),this.queue.shift(),this.traverseQueue()):this.setState({data:this.interpolator(this.ease(elapsed)),animationInfo:{progress:elapsed,animating:1>elapsed}})}},{key:"render",value:function(){return this.props.children(this.state.data,this.state.animationInfo)}}]);return VictoryAnimation}(module.default.Component);exports.default=require;Object.defineProperty(require,
"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryAnimation"});Object.defineProperty(require,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:global.default.func,data:global.default.oneOfType([global.default.object,global.default.array]),delay:global.default.number,duration:global.default.number,easing:global.default.oneOf("back backIn backOut backInOut bounce bounceIn bounceOut bounceInOut circle circleIn circleOut circleInOut linear linearIn linearOut linearInOut cubic cubicIn cubicOut cubicInOut elastic elasticIn elasticOut elasticInOut exp expIn expOut expInOut poly polyIn polyOut polyInOut quad quadIn quadOut quadInOut sin sinIn sinOut sinInOut".split(" ")),
onEnd:global.default.func}});Object.defineProperty(require,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{data:{},delay:0,duration:1E3,easing:"quadInOut"}});Object.defineProperty(require,"contextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{getTimer:global.default.func}})}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_animation$victory_animation.js.map
