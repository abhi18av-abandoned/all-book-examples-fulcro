{"version":3,"sources":["book/queries/recursive_demo_bullets.cljs"],"mappings":"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","names":["options__72617__auto__","this","props","com.fulcrologic.fulcro.components/wrapped-render","map__85855","com.fulcrologic.fulcro.components/props","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","js/book","js/book.queries","js/book.queries.recursive-demo-bullets","js/book.queries.recursive-demo-bullets.Item","props__72618__auto__","this__72619__auto__","temp__5733__auto__","init-state__72620__auto__","obj85861","G__85862","G__85863","goog.object/get","obj85865","com.fulcrologic.fulcro.components/configure-component!","book.queries.recursive-demo-bullets/Item","checked?","label","subitems","com.fulcrologic.fulcro.dom.macro_create_element.cljs$core$IFn$_invoke$arity$3","com.fulcrologic.fulcro.components/force-children","cljs.core/boolean?","com.fulcrologic.fulcro.mutations/toggle!","cljs.core.map.cljs$core$IFn$_invoke$arity$2","book.queries.recursive-demo-bullets/ui-item","com.fulcrologic.fulcro.components.factory.cljs$core$IFn$_invoke$arity$2","map__85870","js/book.queries.recursive-demo-bullets.ItemList","obj85875","G__85876","G__85877","obj85879","book.queries.recursive-demo-bullets/ItemList","id","items","com.fulcrologic.fulcro.components.get_query.cljs$core$IFn$_invoke$arity$1","book.queries.recursive-demo-bullets/ui-item-list","map__85882","js/book.queries.recursive-demo-bullets.Root","obj85885","G__85886","G__85887","obj85889","book.queries.recursive-demo-bullets/Root","list","p"],"sourcesContent":["(ns book.queries.recursive-demo-bullets\n  (:require [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n            [com.fulcrologic.fulcro.mutations :as m :refer [defmutation]]\n            [com.fulcrologic.fulcro.dom :as dom]\n            [clojure.string :as str]))\n\n(declare ui-item)\n\n(defsc Item [this {:keys [ui/checked? item/label item/subitems]}]\n  {:query (fn [] [:ui/checked? :db/id :item/label {:item/subitems '...}])\n   :ident [:item/by-id :db/id]}\n  (dom/li\n    (dom/input {:type     \"checkbox\"\n                :checked  (if (boolean? checked?) checked? false)\n                :onChange #(m/toggle! this :ui/checked?)})\n    label\n    (when subitems\n      (dom/ul\n        (map ui-item subitems)))))\n\n(def ui-item (comp/factory Item {:keyfn :db/id}))\n\n(defsc ItemList [this {:keys [db/id list/items] :as props}]\n  {:query [:db/id {:list/items (comp/get-query Item)}]\n   :ident [:list/by-id :db/id]}\n  (dom/ul\n    (map ui-item items)))\n\n(def ui-item-list (comp/factory ItemList {:keyfn :db/id}))\n\n(defsc Root [this {:keys [list]}]\n  {:initial-state (fn [p]\n                    {:list {:db/id      1\n                            :list/items [{:db/id 2 :item/label \"A\"\n                                          :item/subitems\n                                                 [{:db/id      7\n                                                   :item/label \"A.1\"\n                                                   :item/subitems\n                                                               [{:db/id         8\n                                                                 :item/label    \"A.1.1\"\n                                                                 :item/subitems []}]}]}\n                                         {:db/id      3\n                                          :item/label \"B\"\n                                          :item/subitems\n                                                      [{:db/id 6 :item/label \"B.1\"}]}\n                                         {:db/id         4\n                                          :item/label    \"C\"\n                                          :item/subitems []}\n                                         {:db/id         5\n                                          :item/label    \"D\"\n                                          ; just for fun..nest a dupe under D\n                                          :item/subitems [{:db/id 6 :item/label \"B.1\"}]}]}})\n   :query         [{:list (comp/get-query ItemList)}]}\n  (dom/div\n    (ui-item-list list)))\n"]}