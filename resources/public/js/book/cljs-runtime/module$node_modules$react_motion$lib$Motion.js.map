{
"version":3,
"file":"module$node_modules$react_motion$lib$Motion.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/react-motion/lib/Motion.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$react_motion$lib$Motion\"] = function(global,require,module,exports) {\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = (function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n})(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","defineProperty","Constructor","protoProps","staticProps","_mapToZero","_mapToZero2","_stripStyle","_stripStyle2","_stepper3","_stepper4","_performanceNow","_performanceNow2","_raf","_raf2","_shouldStopAnimation","_shouldStopAnimation2","_react","_react2","_propTypes","_propTypes2","msPerFrame","Motion","_React$Component","_this","instance","wasAnimating","animationID","accumulatedTime","prevTime","unreadPropStyle","clearUnreadPropStyle","this.clearUnreadPropStyle","destStyle","dirty","_state","state","currentStyle","currentVelocity","lastIdealStyle","lastIdealVelocity","styleValue","setState","startAnimationIfNecessary","this.startAnimationIfNecessary","timestamp","propsStyle","style","onRest","currentTime","timeDelta","currentFrameCompletion","Math","floor","framesToCatchUp","newLastIdealStyle","newLastIdealVelocity","newCurrentStyle","newCurrentVelocity","newLastIdealStyleValue","newLastIdealVelocityValue","_stepper","val","stiffness","damping","precision","_stepper2","nextIdealV","nextIdealX","defaultState","defaultStyle","objectOf","number","oneOfType","object","isRequired","children","func","Motion.prototype.defaultState","_props","componentDidMount","Motion.prototype.componentDidMount","componentWillReceiveProps","Motion.prototype.componentWillReceiveProps","componentWillUnmount","Motion.prototype.componentWillUnmount","cancel","render","Motion.prototype.render","renderedChildren","Children","only","Component"]
}
