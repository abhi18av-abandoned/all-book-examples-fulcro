{"version":3,"sources":["book/elements.cljs"],"mappings":";;;;;AAMA,AAAA,AAAMA,AAAsBC,AAAKC;AAAjC,AACE,AAAMC,AAAgB,AAAA,AAACC,AAASH;AAAhC,AACE,AAAME;AAAN,AACE,AAACE,AAAmBH,AAAMC;;AAD5B;;;AAGJ,AAAA,AAAMG,AAAaL;AAAnB,AACE,AAAMW,AAAW,AAAQ,AAAmB,AAACC,AAAwBZ;AAArEM,AACsB,AAACO,AAAWb;AADlCM,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AACcL;AACRa,AAAW,AAAA,AAAgBC;AAFjC,AAGE,AAAM,AAAA,AAACC,AAAI,AAAAC,AAAqBN;AAArBO,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAD,AAAAC,AAACC;;AAAZ,AACE,AAAcR,AAAWG;;AACzB,AAAA,AAACM,AAASpB,AAAuBc;;AACjC,AAACf,AAAqBC,AAAKC;;AAH7B;;;AAKJ,AAAA,AAAA;AAAA,AAAAoB,AAAA,AAAA,AACuB,AAAKrB;AAAL,AAAW,AAACK,AAAYL;AAD/C,AAEuB,AAAKA,AAAKqC,AAAEA;AAAZ,AACE,AAAMpC,AAAM,AAAA,AAAQ,AAACY,AAAWb;AAAhC,AACE,AAACD,AAAqBC,AAAKC;AAJtD,AAAA,AAAeD;AAAf,AAAA,AAAAsB,AAAA,AAAetB;AAAf,AAAA,AAAA,AAAAa,AAAeb,AAAKoC;AAApB,AAME,AAAAE,AAAA,AAAA,AACE,AAAI,AAACzB,AAAWb,AACd,AAAA,AAACuC,AACD,AAAA,AAAA,AAACC,AACDC;;AADA,AAAgB,AAACpC,AAAYL;;AAHjC;;;AANF,AAAA,AAAA,AAAAuB,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAAA,AAAOU;AAAPT;AAAA,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAAlB,AAAAW,AAAA;AAAA,AAAA,AAAAO;AAAA,AAAAC,AAAAD;AAAA,AAAA,AAAA,AAAAD,AAAA,AAAAG,AAAA,AAAA,AAAA,AAAAC,AAAAJ;AAAAK,AAAA,AAAA7B,AAAAuB,AAAA;AAAA,AAAA,AAAAG,AAAAA,AAAAE,AAAAC,AAAAH,AAAAE,AAAAC;;AAAA,AAAAF;;;AAAA,AAAA,AAAAH,AAAA,AAAAM,AAAA,AAAA,AAAA;AAAA,AAAAA;;;;AAAA;;;;;AAAA,AAAAC,AAAA,AAAAb,AAAOc;AAYP,AAAMO,AAAQ,AAACC,AAAaR;AAA5B,AACE,AAAA,AAAMS;AAAWR,AAAMnC;AAAvB,AACE,AAAA4C,AAAS,AAAA,AAACL,AAAMJ,AAAanC;AAA7B,AAAA,AAAA4C,AAAAA,AAACH,AAAAA,AAAAA","names":["book.elements/update-frame-content","this","child","frame-component","goog.object/get","js/ReactDOM.render","book.elements/start-frame","map__85352","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","frame-body","js/ReactDOM.findDOMNode","com.fulcrologic.fulcro.components/props","e1","js/document","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","G__85354","G__85355","goog.object/getValueByKeys","goog.object/set","options__72617__auto__","com.fulcrologic.fulcro.components/wrapped-render","js/book","js/book.elements","js/book.elements.IFrame","props__72618__auto__","this__72619__auto__","temp__5733__auto__","init-state__72620__auto__","obj85363","G__85364","G__85365","obj85368","com.fulcrologic.fulcro.components/configure-component!","book.elements/IFrame","props","_","com.fulcrologic.fulcro.dom.macro_create_element.cljs$core$IFn$_invoke$arity$3","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","cljs.core/clj->js","factory","com.fulcrologic.fulcro.components.factory.cljs$core$IFn$_invoke$arity$1","book.elements/ui-iframe","G__85369"],"sourcesContent":["(ns book.elements\n  (:require\n    [goog.object :as gobj]\n    [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n    [com.fulcrologic.fulcro.dom :as dom]))\n\n(defn update-frame-content [this child]\n  (let [frame-component (gobj/get this \"frame-component\")]\n    (when frame-component\n      (js/ReactDOM.render child frame-component))))\n\n(defn start-frame [this]\n  (let [frame-body (.-body (.-contentDocument (js/ReactDOM.findDOMNode this)))\n        {:keys [child]} (comp/props this)\n        e1         (.createElement js/document \"div\")]\n    (when (= 0 (gobj/getValueByKeys frame-body #js [\"children\" \"length\"]))\n      (.appendChild frame-body e1)\n      (gobj/set this \"frame-component\" e1)\n      (update-frame-content this child))))\n\n(defsc IFrame [this props]\n  {:componentDidMount  (fn [this] (start-frame this))\n   :componentDidUpdate (fn [this _ _]\n                         (let [child (:child (comp/props this))]\n                           (update-frame-content this child)))}\n\n  (dom/iframe\n    (-> (comp/props this)\n      (dissoc :child)\n      (assoc :onLoad #(start-frame this))\n      clj->js)))\n\n(let [factory (comp/factory IFrame)]\n  (defn ui-iframe [props child]\n    (factory (assoc props :child child))))\n\n"]}