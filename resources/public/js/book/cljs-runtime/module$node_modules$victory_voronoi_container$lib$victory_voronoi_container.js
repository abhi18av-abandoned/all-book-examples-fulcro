shadow$provide.module$node_modules$victory_voronoi_container$lib$victory_voronoi_container=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"===typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,
sym).enumerable})));ownKeys.forEach(function(key){var value=source[key];key in target?Object.defineProperty(target,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):target[key]=value})}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var target={},sourceKeys=Object.keys(source),i;for(i=0;i<sourceKeys.length;i++){var key=sourceKeys[i];0<=excluded.indexOf(key)||(target[key]=source[key])}if(Object.getOwnPropertySymbols)for(sourceKeys=Object.getOwnPropertySymbols(source),
i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key]);return target}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||"[object Arguments]"===
Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&
_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):
subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=exports.voronoiContainerMixin=void 0;var _pick2=_interopRequireDefault(require("module$node_modules$lodash$pick")),_isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_propTypes=_interopRequireDefault(require("module$node_modules$prop_types$index")),_react=_interopRequireDefault(require("module$node_modules$react$index")),
_victoryTooltip=require("module$node_modules$victory_tooltip$lib$index"),_victoryCore=require("module$node_modules$victory_core$lib$index"),_voronoiHelpers=_interopRequireDefault(require("module$node_modules$victory_voronoi_container$lib$voronoi_helpers"));global=function(base){var _class,_temp;return _temp=_class=function(_base){function VictoryVoronoiContainer(){if(!(this instanceof VictoryVoronoiContainer))throw new TypeError("Cannot call a class as a function");var call=(VictoryVoronoiContainer.__proto__||
Object.getPrototypeOf(VictoryVoronoiContainer)).apply(this,arguments);if(!call||"object"!==typeof call&&"function"!==typeof call){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");call=this}return call}_inherits(VictoryVoronoiContainer,_base);_createClass(VictoryVoronoiContainer,[{key:"getLabelPadding",value:function(style){if(!style)return 0;style=Array.isArray(style)?style.map(function(s){return s.padding}):[style.padding];return Math.max.apply(Math,
_toConsumableArray(style).concat([0]))}},{key:"getFlyoutSize",value:function(labelComponent,text,style){var padding=this.getLabelPadding(style);text=_victoryCore.TextSize.approximateTextSize(text,style);return{x:labelComponent.width||text.width+padding,y:labelComponent.height||text.height+padding}}},{key:"getLabelCornerRadius",value:function(props,labelProps){if(void 0!==labelProps.cornerRadius)return labelProps.cornerRadius;props=props.theme||labelProps.theme;return props.tooltip&&props.tooltip.cornerRadius||
0}},{key:"getFlyoutExtent",value:function(position,props,labelProps){var orientation=labelProps.orientation,_labelProps$dx=labelProps.dx,dx=void 0===_labelProps$dx?0:_labelProps$dx;_labelProps$dx=labelProps.dy;var dy=void 0===_labelProps$dx?0:_labelProps$dx;_labelProps$dx=this.getFlyoutSize(props.labelComponent,labelProps.text,labelProps.style);labelProps=this.getLabelCornerRadius(props,labelProps);props=position.x+dx+2*labelProps;position=position.y+dy+2*labelProps;labelProps="top"===orientation||
"bottom"===orientation?_labelProps$dx.x/2:_labelProps$dx.x;props="top"===orientation||"bottom"===orientation?[props-labelProps,props+labelProps]:[props,props+("left"===orientation?-1:1)*labelProps];orientation=[position,position+("bottom"===orientation?1:-1)*_labelProps$dx.y];return{x:[Math.min.apply(Math,_toConsumableArray(props)),Math.max.apply(Math,_toConsumableArray(props))],y:[Math.min.apply(Math,_toConsumableArray(orientation)),Math.max.apply(Math,_toConsumableArray(orientation))]}}},{key:"getPoint",
value:function(props,point){var whitelist="_x _x1 _x0 _y _y1 _y0".split(" ");return props.horizontal?{_x:point._y,_y:point._x,_x1:point._y1,_y1:point._x1,_x0:point._y0,_y0:point._x0}:(0,_pick2.default)(point,whitelist)}},{key:"getLabelPosition",value:function(props,points,labelProps){var mousePosition=props.mousePosition,voronoiDimension=props.voronoiDimension,scale=props.scale,voronoiPadding=props.voronoiPadding,point=this.getPoint(props,points[0]);point=_victoryCore.Helpers.scalePoint(props,point);
if(!voronoiDimension||2>points.length)return point;points="y"===voronoiDimension?mousePosition.x:point.x;mousePosition="x"===voronoiDimension?mousePosition.y:point.y;if(props.polar)return{x:points,y:mousePosition};voronoiDimension=scale.x.range();point=scale.y.range();scale=[Math.min.apply(Math,_toConsumableArray(voronoiDimension))+voronoiPadding,Math.max.apply(Math,_toConsumableArray(voronoiDimension))-voronoiPadding];voronoiPadding=[Math.min.apply(Math,_toConsumableArray(point))+voronoiPadding,
Math.max.apply(Math,_toConsumableArray(point))-voronoiPadding];props=this.getFlyoutExtent({x:points,y:mousePosition},props,labelProps);labelProps=[props.x[0]<scale[0]?scale[0]-props.x[0]:0,props.x[1]>scale[1]?props.x[1]-scale[1]:0];props=[props.y[0]<voronoiPadding[0]?voronoiPadding[0]-props.y[0]:0,props.y[1]>voronoiPadding[1]?props.y[1]-voronoiPadding[1]:0];return{x:Math.round(points+labelProps[0]-labelProps[1]),y:Math.round(mousePosition+props[0]-props[1])}}},{key:"getStyle",value:function(props,
points,type){var labels=props.labels,theme=props.theme;props=props.labelComponent.props||{};var themeStyles=theme&&theme.voronoi&&theme.voronoi.style?theme.voronoi.style:{},componentStyleArray="flyout"===type?props.flyoutStyle:props.style;return points.reduce(function(memo,point,index){var text=(0,_isFunction2.default)(labels)?labels(point,index,points):void 0;text=void 0!==text?"".concat(text).split("\n"):[];var baseStyle=point.style&&point.style[type]||{};index=Array.isArray(componentStyleArray)?
componentStyleArray[index]:componentStyleArray;var style=_victoryCore.Helpers.evaluateStyle((0,_defaults2.default)({},index,baseStyle,themeStyles[type]),point,!0);point=text.length?text.map(function(){return style}):[style];return memo=memo.concat(point)},[])}},{key:"getDefaultLabelProps",value:function(props,points){var voronoiDimension=props.voronoiDimension,horizontal=props.horizontal;props=this.getPoint(props,points[0]);points=voronoiDimension&&1<points.length;voronoiDimension=void 0!==props._y1?
props._y1:props._y;return{orientation:points?"top":horizontal?0>voronoiDimension?"left":"right":0>voronoiDimension?"bottom":"top",pointerLength:points?0:void 0}}},{key:"getLabelProps",value:function(props,points){var labels=props.labels,scale=props.scale,labelComponent=props.labelComponent,theme=props.theme,text=points.reduce(function(memo,point,index){point=(0,_isFunction2.default)(labels)?labels(point,index,points):null;return null===point||void 0===point?memo:memo=memo.concat("".concat(point).split("\n"))},
[]);labelComponent=labelComponent.props||{};var _points$=points[0],childName=_points$.childName,eventKey=_points$.eventKey;_points$=_objectWithoutProperties(_points$,["childName","eventKey","style","continuous"]);childName=props.name===childName?childName:"".concat(props.name,"-").concat(childName);scale=(0,_defaults2.default)({key:"".concat(childName,"-").concat(eventKey,"-voronoi-tooltip"),id:"".concat(childName,"-").concat(eventKey,"-voronoi-tooltip"),active:!0,flyoutStyle:this.getStyle(props,
points,"flyout")[0],renderInPortal:!1,style:this.getStyle(props,points,"labels"),datum:_points$,scale:scale,theme:theme,text:text},labelComponent,this.getDefaultLabelProps(props,points));props=this.getLabelPosition(props,points,scale);return(0,_defaults2.default)({},props,scale)}},{key:"getTooltip",value:function(props){var activePoints=props.activePoints,labelComponent=props.labelComponent;return props.labels?Array.isArray(activePoints)&&activePoints.length?_react.default.cloneElement(labelComponent,
this.getLabelProps(props,activePoints)):null:null}},{key:"getChildren",value:function(props){return _toConsumableArray(_react.default.Children.toArray(props.children)).concat([this.getTooltip(props)])}}]);return VictoryVoronoiContainer}(base),Object.defineProperty(_class,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryVoronoiContainer"}),Object.defineProperty(_class,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:_objectSpread({},_victoryCore.VictoryContainer.propTypes,
{activateData:_propTypes.default.bool,activateLabels:_propTypes.default.bool,disable:_propTypes.default.bool,labelComponent:_propTypes.default.element,labels:_propTypes.default.func,onActivated:_propTypes.default.func,onDeactivated:_propTypes.default.func,radius:_propTypes.default.number,voronoiBlacklist:_propTypes.default.arrayOf(_propTypes.default.string),voronoiDimension:_propTypes.default.oneOf(["x","y"]),voronoiPadding:_propTypes.default.number})}),Object.defineProperty(_class,"defaultProps",
{configurable:!0,enumerable:!0,writable:!0,value:_objectSpread({},_victoryCore.VictoryContainer.defaultProps,{activateData:!0,activateLabels:!0,labelComponent:_react.default.createElement(_victoryTooltip.VictoryTooltip,null),voronoiPadding:5})}),Object.defineProperty(_class,"defaultEvents",{configurable:!0,enumerable:!0,writable:!0,value:function(props){return[{target:"parent",eventHandlers:{onMouseLeave:function(evt,targetProps){return props.disable?{}:_voronoiHelpers.default.onMouseLeave(evt,targetProps)},
onTouchCancel:function(evt,targetProps){return props.disable?{}:_voronoiHelpers.default.onMouseLeave(evt,targetProps)},onMouseMove:function(evt,targetProps){return props.disable?{}:_voronoiHelpers.default.onMouseMove(evt,targetProps)},onTouchMove:function(evt,targetProps){return props.disable?{}:_voronoiHelpers.default.onMouseMove(evt,targetProps)}}},{target:"data",eventHandlers:props.disable?{}:{onMouseOver:function(){return null},onMouseOut:function(){return null},onMouseMove:function(){return null}}}]}}),
_temp};exports.voronoiContainerMixin=global;global=global(_victoryCore.VictoryContainer);exports.default=global}
//# sourceMappingURL=module$node_modules$victory_voronoi_container$lib$victory_voronoi_container.js.map
