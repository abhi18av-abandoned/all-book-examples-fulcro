shadow$provide.module$node_modules$victory_voronoi_container$lib$voronoi_helpers=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in
Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _includes2=_interopRequireDefault(require("module$node_modules$lodash$includes")),_keys2=_interopRequireDefault(require("module$node_modules$lodash$keys")),_groupBy2=_interopRequireDefault(require("module$node_modules$lodash$groupBy")),
_isEmpty2=_interopRequireDefault(require("module$node_modules$lodash$isEmpty")),_isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction"));global=_interopRequireDefault(require("module$node_modules$lodash$throttle"));var _assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_victoryCore=require("module$node_modules$victory_core$lib$index"),_reactFastCompare=_interopRequireDefault(require("module$node_modules$react_fast_compare$index")),_d3Voronoi=
require("module$node_modules$d3_voronoi$dist$d3_voronoi"),_react=_interopRequireDefault(require("module$node_modules$react$index"));require={withinBounds:function(props,point){var width=props.width,height=props.height,origin=props.origin,scale=props.scale,padding=props.voronoiPadding||0,x=point.x;point=point.y;return props.polar?(props=Math.pow(x-origin.x,2)+Math.pow(point-origin.y,2),scale=Math.max.apply(Math,_toConsumableArray(scale.y.range())),props<Math.pow(scale,2)):x>=padding&&x<=width-padding&&
point>=padding&&point<=height-padding},getDatasets:function(props){var children=_react.default.Children.toArray(props.children),addMeta=function(data,name,child){var continuous=child&&child.type&&child.type.continuous,style=child?child.props&&child.props.style:props.style;return data.map(function(datum,index){var _Helpers$getPoint=_victoryCore.Helpers.getPoint(datum),x=_Helpers$getPoint.x,y=_Helpers$getPoint.y,y0=_Helpers$getPoint.y0,x0=_Helpers$getPoint.x0;_Helpers$getPoint=props.horizontal?(+y+
+y0)/2:(+x+ +x0)/2;x=props.horizontal?(+x+ +x0)/2:(+y+ +y0)/2;return(0,_assign2.default)({_voronoiX:"y"===props.voronoiDimension?0:_Helpers$getPoint,_voronoiY:"x"===props.voronoiDimension?0:x,eventKey:index,childName:name,continuous:continuous,style:style},datum)})};if(props.data)return addMeta(props.data);var getData=function(childProps){childProps=_victoryCore.Data.getData(childProps);return Array.isArray(childProps)&&0<childProps.length?childProps:void 0};return _victoryCore.Helpers.reduceChildren(children,
function(child,childName){childName=(child.props||{}).name||childName;var blacklist=props.voronoiBlacklist||[];return!_victoryCore.Data.isDataComponent(child)||(0,_includes2.default)(blacklist,childName)?null:(blacklist=(child.type&&(0,_isFunction2.default)(child.type.getData)?child.type.getData:getData)(child.props))?addMeta(blacklist,childName,child):null},props)},mergeDatasets:function(props,datasets){var points=(0,_groupBy2.default)(datasets,function(datum){datum=_victoryCore.Helpers.scalePoint(props,
datum);var y=datum.y;return"".concat(datum.x,",").concat(y)});return(0,_keys2.default)(points).map(function(key){var point=key.split(",");return{x:+point[0],y:+point[1],points:points[key]}})},getVoronoi:function(props,mousePosition){var width=props.width,height=props.height,padding=props.voronoiPadding||0;width=(0,_d3Voronoi.voronoi)().x(function(d){return d.x}).y(function(d){return d.y}).extent([[padding,padding],[width-padding,height-padding]]);height=this.getDatasets(props);return width(this.mergeDatasets(props,
height)).find(mousePosition.x,mousePosition.y,props.voronoiDimension?void 0:props.radius)},getActiveMutations:function(props,point){var childName=point.childName,continuous=point.continuous,activateData=props.activateData,activateLabels=props.activateLabels;if(!activateData&&!activateLabels)return[];activateData=activateData?["data"]:[];props=props.labels&&!activateLabels?activateData:activateData.concat("labels");return(0,_isEmpty2.default)(props)?[]:props.map(function(target){return{childName:childName,
eventKey:!0===continuous&&"data"===target?"all":point.eventKey,target:target,mutation:function(){return{active:!0}}}})},getInactiveMutations:function(props,point){var childName=point.childName,continuous=point.continuous,activateData=props.activateData,activateLabels=props.activateLabels;if(!activateData&&!activateLabels)return[];activateData=activateData?["data"]:[];props=props.labels&&!activateLabels?activateData:activateData.concat("labels");return(0,_isEmpty2.default)(props)?[]:props.map(function(target){return{childName:childName,
eventKey:continuous&&"data"===target?"all":point.eventKey,target:target,mutation:function(){return null}}})},getParentMutation:function(activePoints,mousePosition,parentSVG){return[{target:"parent",eventKey:"parent",mutation:function(){return{activePoints:activePoints,mousePosition:mousePosition,parentSVG:parentSVG}}}]},onActivated:function(props,points){if((0,_isFunction2.default)(props.onActivated))props.onActivated(points,props)},onDeactivated:function(props,points){if((0,_isFunction2.default)(props.onDeactivated))props.onDeactivated(points,
props)},onMouseLeave:function(evt,targetProps){var _this=this,_getParentMutation;evt=targetProps.activePoints||[];this.onDeactivated(targetProps,evt);evt=evt.length?evt.map(function(point){return _this.getInactiveMutations(targetProps,point)}):[];return(_getParentMutation=this.getParentMutation([])).concat.apply(_getParentMutation,_toConsumableArray(evt))},onMouseMove:function(evt,targetProps){var _this2=this,activePoints=targetProps.activePoints||[],parentSVG=targetProps.parentSVG||_victoryCore.Selection.getParentSVG(evt);
evt=_victoryCore.Selection.getSVGEventCoordinates(evt,parentSVG);if(!this.withinBounds(targetProps,evt)){var _getParentMutation2;this.onDeactivated(targetProps,activePoints);activePoints=activePoints.length?activePoints.map(function(point){return _this2.getInactiveMutations(targetProps,point)}):[];return(_getParentMutation2=this.getParentMutation([],evt,parentSVG)).concat.apply(_getParentMutation2,_toConsumableArray(activePoints))}_getParentMutation2=(_getParentMutation2=this.getVoronoi(targetProps,
evt))?_getParentMutation2.data.points:[];parentSVG=this.getParentMutation(_getParentMutation2,evt,parentSVG);if(activePoints.length&&(0,_reactFastCompare.default)(_getParentMutation2,activePoints))return parentSVG;this.onActivated(targetProps,_getParentMutation2);this.onDeactivated(targetProps,activePoints);evt=_getParentMutation2.length?_getParentMutation2.map(function(point){return _this2.getActiveMutations(targetProps,point)}):[];activePoints=activePoints.length?activePoints.map(function(point){return _this2.getInactiveMutations(targetProps,
point)}):[];return parentSVG.concat.apply(parentSVG,_toConsumableArray(activePoints).concat(_toConsumableArray(evt)))}};require={onMouseLeave:require.onMouseLeave.bind(require),onMouseMove:(0,global.default)(require.onMouseMove.bind(require),32,{leading:!0,trailing:!1})};exports.default=require}
//# sourceMappingURL=module$node_modules$victory_voronoi_container$lib$voronoi_helpers.js.map
