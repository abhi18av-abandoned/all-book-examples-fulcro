shadow$provide.module$node_modules$victory_stack$lib$helper_methods=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function fillData(props,datasets){var fillInMissingData=props.fillInMissingData;props=datasets.reduce(function(prev,dataset){dataset.forEach(function(datum){prev[datum._x instanceof Date?datum._x.getTime():datum._x]=!0});return prev},{});props=(0,_keys2.default)(props).map(function(k){return+k});var xArr=(0,_orderBy2.default)(props);
return datasets.map(function(dataset){var indexOffset=0,isDate=dataset[0]&&dataset[0]._x instanceof Date;return xArr.map(function(x,index){x=+x;if(index=dataset[index-indexOffset]){if((isDate?index._x.getTime():index._x)===x)return index;indexOffset++;index=fillInMissingData?0:null;x=isDate?new Date(x):x;return{x:x,y:index,_x:x,_y:index}}index=fillInMissingData?0:null;x=isDate?new Date(x):x;return{x:x,y:index,_x:x,_y:index}})})}function getY0(datum,index,datasets){if(datum.y0)return datum.y0;var y=
datum._y;index=datasets.slice(0,index).reduce(function(prev,dataset){return prev.concat(dataset.filter(function(previousDatum){return datum._x instanceof Date?previousDatum._x.getTime()===datum._x.getTime():previousDatum._x===datum._x}).map(function(previousDatum){return previousDatum._y||0}))},[]);datasets=index.length&&index.reduce(function(memo,value){return 0>y&&0>value||0<=y&&0<=value?+value+memo:memo},0);return index.some(function(point){return point instanceof Date})?new Date(datasets):datasets}
function addLayoutData(props,datasets,index){var xOffset=props.xOffset||0;return datasets[index].map(function(datum){var yOffset=getY0(datum,index,datasets)||0;return(0,_assign2.default)({},datum,{_y0:datum._y instanceof Date?yOffset?new Date(yOffset):datum._y:yOffset,_y1:null===datum._y?null:datum._y instanceof Date?new Date(+datum._y+ +yOffset):datum._y+yOffset,_x1:null===datum._x?null:datum._x instanceof Date?new Date(+datum._x+ +xOffset):datum._x+xOffset})})}function stackData(props){var dataFromChildren=
_victoryCore.Wrapper.getDataFromChildren(props),datasets=fillData(props,dataFromChildren);return datasets.map(function(d,i){return addLayoutData(props,datasets,i)})}function getCalculatedProps(props,childComponents){childComponents=childComponents||_react.default.Children.toArray(props.children);var style=_victoryCore.Wrapper.getStyle(props.theme,props.style,"stack"),horizontal=props.horizontal||childComponents.every(function(component){return component.props.horizontal}),categories=_victoryCore.Wrapper.getCategories(props,
childComponents),datasets=stackData(props);childComponents=childComponents.map(function(c,i){return _react.default.cloneElement(c,{data:datasets[i]})});childComponents={x:_victoryCore.Wrapper.getDomain((0,_assign2.default)({},props,{categories:categories}),"x",childComponents),y:_victoryCore.Wrapper.getDomain((0,_assign2.default)({},props,{categories:categories}),"y",childComponents)};var range={x:_victoryCore.Helpers.getRange(props,"x"),y:_victoryCore.Helpers.getRange(props,"y")},JSCompiler_object_inline_x_2834=
_victoryCore.Scale.getScaleFromProps(props,"x")||_victoryCore.Scale.getDefaultScale(),JSCompiler_object_inline_y_2835=_victoryCore.Scale.getScaleFromProps(props,"y")||_victoryCore.Scale.getDefaultScale();JSCompiler_object_inline_x_2834=JSCompiler_object_inline_x_2834.domain(childComponents.x).range(range.x);JSCompiler_object_inline_y_2835=JSCompiler_object_inline_y_2835.domain(childComponents.y).range(range.y);return{datasets:datasets,categories:categories,range:range,domain:childComponents,horizontal:horizontal,
scale:{x:horizontal?JSCompiler_object_inline_y_2835:JSCompiler_object_inline_x_2834,y:horizontal?JSCompiler_object_inline_x_2834:JSCompiler_object_inline_y_2835},style:style,colorScale:props.colorScale,role:"stack"}}function getChildProps(props,calculatedProps){var categories=calculatedProps.categories,domain=calculatedProps.domain,range=calculatedProps.range,scale=calculatedProps.scale;calculatedProps=calculatedProps.horizontal;return{height:props.height,width:props.width,padding:_victoryCore.Helpers.getPadding(props),
standalone:!1,theme:props.theme,categories:categories,domain:domain,range:range,scale:scale,horizontal:calculatedProps}}function getColorScale(props,child){var role=child.type&&child.type.role;child=child.props.colorScale||props.colorScale;if("group"===role||"stack"===role)return props.theme?child||props.theme.props.colorScale:child}Object.defineProperty(exports,"__esModule",{value:!0});exports.getChildren=function(props,childComponents,calculatedProps){props=_victoryCore.Helpers.modifyProps(props,
fallbackProps,"stack");childComponents=childComponents||_react.default.Children.toArray(props.children);calculatedProps=calculatedProps||getCalculatedProps(props,childComponents);var datasets=calculatedProps.datasets,childProps=getChildProps(props,calculatedProps),parentName=props.name||"stack";return childComponents.map(function(child,index){var role=child.type&&child.type.role,data=datasets[index],style=_victoryCore.Wrapper.getChildStyle(child,index,calculatedProps);var JSCompiler_temp=props.labels?
props.labels?datasets.length===index+1?props.labels:void 0:void 0:child.props.labels;role=child.props.name||"".concat(parentName,"-").concat(role,"-").concat(index);return _react.default.cloneElement(child,(0,_assign2.default)({key:"".concat(role,"-key-").concat(index),labels:JSCompiler_temp,name:role,domainPadding:child.props.domainPadding||props.domainPadding,theme:props.theme,labelComponent:props.labelComponent||child.props.labelComponent,style:style,colorScale:getColorScale(props,child),data:data,
polar:props.polar},childProps))})};exports.getCalculatedProps=getCalculatedProps;var _orderBy2=_interopRequireDefault(require("module$node_modules$lodash$orderBy")),_keys2=_interopRequireDefault(require("module$node_modules$lodash$keys")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_react=_interopRequireDefault(require("module$node_modules$react$index")),_victoryCore=require("module$node_modules$victory_core$lib$index"),fallbackProps={width:450,height:300,padding:50}}
//# sourceMappingURL=module$node_modules$victory_stack$lib$helper_methods.js.map
