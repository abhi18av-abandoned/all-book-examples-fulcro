shadow$provide.module$node_modules$victory_legend$lib$helper_methods=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||
"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"===typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,
sym).enumerable})));ownKeys.forEach(function(key){var value=source[key];key in target?Object.defineProperty(target,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):target[key]=value})}return target}Object.defineProperty(exports,"__esModule",{value:!0});exports.getDimensions=exports.getBaseProps=void 0;var _isNil2=_interopRequireDefault(require("module$node_modules$lodash$isNil")),_range2=_interopRequireDefault(require("module$node_modules$lodash$range")),_sum2=_interopRequireDefault(require("module$node_modules$lodash$sum")),
_keys2=_interopRequireDefault(require("module$node_modules$lodash$keys")),_groupBy2=_interopRequireDefault(require("module$node_modules$lodash$groupBy")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_victoryCore=require("module$node_modules$victory_core$lib$index"),getLabelStyles=function(props){var style=props.style;return props.data.map(function(datum){var baseLabelStyles=(0,_defaults2.default)({},
datum.labels,style.labels);return _victoryCore.Helpers.evaluateStyle(baseLabelStyles,datum)})},getCalculatedValues=function(props){var orientation=props.orientation,theme=props.theme;theme=theme&&theme.legend&&theme.legend.style?theme.legend.style:{};var style=props.style||{};theme=theme||{};theme={parent:(0,_defaults2.default)(style.parent,theme.parent,{height:"100%",width:"100%"}),data:(0,_defaults2.default)({},style.data,theme.data),labels:(0,_defaults2.default)({},style.labels,theme.labels),border:(0,
_defaults2.default)({},style.border,theme.border),title:(0,_defaults2.default)({},style.title,theme.title)};style=props.colorScale;style="string"===typeof style?_victoryCore.Style.getColorScale(style):style||[];orientation="horizontal"===orientation;var borderPadding=_victoryCore.Helpers.getPadding({padding:props.borderPadding});return(0,_assign2.default)({},props,{style:theme,isHorizontal:orientation,colorScale:style,borderPadding:borderPadding})},groupData=function(props){var data=props.data,style=
props.style&&props.style.data||{},labelStyles=getLabelStyles(props);return data.map(function(datum,index){var fontSize=labelStyles[index].fontSize,size=(datum.symbol||{}).size||style.size||fontSize/2.5,symbolSpacer=props.symbolSpacer||Math.max(size,fontSize),JSCompiler_temp_const=_victoryCore.TextSize.approximateTextSize(datum.name,labelStyles[index]);var JSCompiler_inline_result=props.itemsPerRow;var isHorizontal=props.isHorizontal;JSCompiler_inline_result=JSCompiler_inline_result?isHorizontal?index%
JSCompiler_inline_result:Math.floor(index/JSCompiler_inline_result):isHorizontal?index:0;isHorizontal=props.itemsPerRow;var isHorizontal$jscomp$0=props.isHorizontal;index=isHorizontal?isHorizontal$jscomp$0?Math.floor(index/isHorizontal):index%isHorizontal:isHorizontal$jscomp$0?0:index;return _objectSpread({},datum,{size:size,symbolSpacer:symbolSpacer,fontSize:fontSize,textSize:JSCompiler_temp_const,column:JSCompiler_inline_result,row:index})})},getColumnWidths=function(props,data){props=props.gutter||
{};var gutterWidth="object"===typeof props?(props.left||0)+(props.right||0):props||0,dataByColumn=(0,_groupBy2.default)(data,"column");return(0,_keys2.default)(dataByColumn).reduce(function(memo,curr,index){curr=dataByColumn[curr].map(function(d){return d.textSize.width+d.size+d.symbolSpacer+gutterWidth});memo[index]=Math.max.apply(Math,_toConsumableArray(curr));return memo},[])},getRowHeights=function(props,data){props=props.rowGutter||{};var gutterHeight="object"===typeof props?(props.top||0)+(props.bottom||
0):props||0,dataByRow=(0,_groupBy2.default)(data,"row");return(0,_keys2.default)(dataByRow).reduce(function(memo,curr,index){curr=dataByRow[curr].map(function(d){return d.textSize.height+d.symbolSpacer+gutterHeight});memo[index]=Math.max.apply(Math,_toConsumableArray(curr));return memo},[])},getTitleDimensions=function(props){var style=props.style&&props.style.title||{};props=_victoryCore.TextSize.approximateTextSize(props.title,style);style=style.padding||0;return{height:props.height+2*style||0,
width:props.width+2*style||0}},getOffset=function(datum,rowHeights,columnWidths){var column=datum.column;datum=datum.row;return{x:(0,_range2.default)(column).reduce(function(memo,curr){return memo+=columnWidths[curr]},0),y:(0,_range2.default)(datum).reduce(function(memo,curr){return memo+=rowHeights[curr]},0)}},getAnchors=function(titleOrientation,centerTitle){var standardAnchors={textAnchor:"right"===titleOrientation?"end":"start",verticalAnchor:"bottom"===titleOrientation?"end":"start"};return centerTitle?
(titleOrientation="top"===titleOrientation||"bottom"===titleOrientation,{textAnchor:titleOrientation?"middle":standardAnchors.textAnchor,verticalAnchor:titleOrientation?standardAnchors.verticalAnchor:"middle"}):standardAnchors},getTitleStyle=function(props){var titleComponent=props.titleComponent,baseStyle=props.style&&props.style.title||{};titleComponent=titleComponent.props&&titleComponent.props.style||{};var anchors=getAnchors(props.titleOrientation,props.centerTitle);return Array.isArray(titleComponent)?
titleComponent.map(function(obj){return(0,_defaults2.default)({},obj,baseStyle,anchors)}):(0,_defaults2.default)({},titleComponent,baseStyle,anchors)},getTitleProps=function(props,borderProps){var title=props.title,titleOrientation=props.titleOrientation,centerTitle=props.centerTitle,borderPadding=props.borderPadding,height=borderProps.height;borderProps=borderProps.width;var style=getTitleStyle(props),padding=Array.isArray(style)?style[0].padding:style.padding,horizontal="top"===titleOrientation||
"bottom"===titleOrientation,JSCompiler_object_inline_x_2871=centerTitle?borderProps/2:borderPadding["bottom"===titleOrientation?"bottom":"top"]+(padding||0);centerTitle=centerTitle?height/2:borderPadding["right"===titleOrientation?"right":"left"]+(padding||0);JSCompiler_object_inline_x_2871=horizontal?JSCompiler_object_inline_x_2871:borderPadding[titleOrientation]+(padding||0);borderPadding=horizontal?borderPadding[titleOrientation]+(padding||0):centerTitle;return{x:"right"===titleOrientation?props.x+
borderProps-JSCompiler_object_inline_x_2871:props.x+JSCompiler_object_inline_x_2871,y:"bottom"===titleOrientation?props.y+height-borderPadding:props.y+borderPadding,style:style,text:title}},getBorderProps=function(props,contentHeight,contentWidth){var borderPadding=props.borderPadding,style=props.style;return{x:props.x,y:props.y,height:(contentHeight||0)+borderPadding.top+borderPadding.bottom,width:(contentWidth||0)+borderPadding.left+borderPadding.right,style:(0,_assign2.default)({fill:"none"},style.border)}},
getDimensions=function(props,fallbackProps){props=_victoryCore.Helpers.modifyProps(props,fallbackProps,"legend");var _props=props=(0,_assign2.default)({},props,getCalculatedValues(props));fallbackProps=_props.title;_props=_props.titleOrientation;var groupedData=groupData(props),columnWidths=getColumnWidths(props,groupedData);groupedData=getRowHeights(props,groupedData);props=fallbackProps?getTitleDimensions(props):{height:0,width:0};return{height:"left"===_props||"right"===_props?Math.max((0,_sum2.default)(groupedData),
props.height):(0,_sum2.default)(groupedData)+props.height,width:"left"===_props||"right"===_props?(0,_sum2.default)(columnWidths)+props.width:Math.max((0,_sum2.default)(columnWidths),props.width)}};exports.getDimensions=getDimensions;exports.getBaseProps=function(props,fallbackProps){props=_victoryCore.Helpers.modifyProps(props,fallbackProps,"legend");var _props2=props=(0,_assign2.default)({},props,getCalculatedValues(props)),data=_props2.data,standalone=_props2.standalone,theme=_props2.theme,padding=
_props2.padding,style=_props2.style,colorScale=_props2.colorScale,gutter=_props2.gutter,rowGutter=_props2.rowGutter,borderPadding=_props2.borderPadding,title=_props2.title,titleOrientation=_props2.titleOrientation,name=_props2.name,_props2$x=_props2.x,x=void 0===_props2$x?0:_props2$x;_props2=_props2.y;var y=void 0===_props2?0:_props2;_props2=groupData(props);var columnWidths=getColumnWidths(props,_props2),rowHeights=getRowHeights(props,_props2),labelStyles=getLabelStyles(props);title=title?getTitleDimensions(props):
{height:0,width:0};var JSCompiler_object_inline_x_2873="left"===titleOrientation?title.width:0,JSCompiler_object_inline_y_2874="top"===titleOrientation?title.height:0,JSCompiler_object_inline_x_2875=gutter&&"object"===typeof gutter?gutter.left||0:0,JSCompiler_object_inline_y_2876=rowGutter&&"object"===typeof rowGutter?rowGutter.top||0:0;fallbackProps=getDimensions(props,fallbackProps);fallbackProps=getBorderProps(props,fallbackProps.height,fallbackProps.width);gutter=getTitleProps(props,fallbackProps);
return _props2.reduce(function(childProps,datum,i){var color=colorScale[i%colorScale.length],dataStyle=(0,_defaults2.default)({},datum.symbol,style.data,{fill:color});color=(0,_isNil2.default)(datum.eventKey)?i:datum.eventKey;var offset=getOffset(datum,rowHeights,columnWidths);dataStyle={index:i,data:data,datum:datum,symbol:dataStyle.type||dataStyle.symbol||"circle",size:datum.size,style:dataStyle,y:y+borderPadding.top+datum.symbolSpacer+offset.y+JSCompiler_object_inline_y_2874+JSCompiler_object_inline_y_2876,
x:x+borderPadding.left+datum.symbolSpacer+offset.x+JSCompiler_object_inline_x_2873+JSCompiler_object_inline_x_2875};childProps[color]={data:dataStyle,labels:{datum:datum,data:data,text:datum.name,style:labelStyles[i],y:dataStyle.y,x:dataStyle.x+datum.symbolSpacer+datum.size/2}};return childProps},{parent:{data:data,standalone:standalone,theme:theme,padding:padding,name:name,height:props.height,width:props.width,style:style.parent},all:{border:fallbackProps,title:gutter}})}}
//# sourceMappingURL=module$node_modules$victory_legend$lib$helper_methods.js.map
