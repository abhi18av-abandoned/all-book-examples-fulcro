shadow$provide.module$node_modules$victory_bar$lib$path_helper_methods=function(global,require,module,exports){function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"===typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})));ownKeys.forEach(function(key){var value=source[key];
key in target?Object.defineProperty(target,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):target[key]=value})}return target}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)?
Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}Object.defineProperty(exports,"__esModule",{value:!0});exports.getVerticalPolarBarPath=exports.getHorizontalBarPath=exports.getVerticalBarPath=exports.getCustomBarPath=void 0;var _victoryCore=require("module$node_modules$victory_core$lib$index"),d3Shape=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,
key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;return newObj}(require("module$node_modules$d3_shape$dist$d3_shape")),_geometryHelperMethods=require("module$node_modules$victory_bar$lib$geometry_helper_methods"),getPosition=function(props,width){var x=props.x,alignment=props.alignment||"middle";width="middle"===alignment?width/2:width;
var sign=props.horizontal?-1:1;return{x0:"start"===alignment?x:x-sign*width,x1:"end"===alignment?x:x+sign*width,y0:props.y0,y1:props.y}},getAngle=function(props,index){var data=props.data;return props.scale.x(data[index][void 0===data[index]._x1?"_x":"_x1"])},getAngularWidth=function(props,width){props=props.scale;var range=props.y.range();range=Math.max.apply(Math,_toConsumableArray(range));props=Math.abs(props.x.range()[1]-props.x.range()[0]);return width/(2*Math.PI*range)*props};exports.getCustomBarPath=
function(props,width){var getPath=props.getPath;props=_objectSpread({},props,getPosition(props,width));return getPath(props)};var getStartAngle=function(props,index){var data=props.data,scale=props.scale,alignment=props.alignment,currentAngle=getAngle(props,index),angularRange=Math.abs(scale.x.range()[1]-scale.x.range()[0]);props=0===index?getAngle(props,data.length-1)-2*Math.PI:getAngle(props,index-1);return 0===index&&angularRange<2*Math.PI?scale.x.range()[0]:"start"===alignment||"end"===alignment?
"start"===alignment?props:currentAngle:(currentAngle+props)/2},getEndAngle=function(props,index){var data=props.data,scale=props.scale,alignment=props.alignment,currentAngle=getAngle(props,index),angularRange=Math.abs(scale.x.range()[1]-scale.x.range()[0]);scale=scale.x.range()[1]===2*Math.PI?getAngle(props,0)+2*Math.PI:scale.x.range()[1];props=index===data.length-1?getAngle(props,0)+2*Math.PI:getAngle(props,index+1);return index===data.length-1&&angularRange<2*Math.PI?scale:"start"===alignment||
"end"===alignment?"start"===alignment?currentAngle:props:(currentAngle+props)/2},mapPointsToPath=function(coords,cornerRadius,direction){var topLeftPath="".concat(cornerRadius.topLeft," ").concat(cornerRadius.topLeft," ").concat(direction),topRightPath="".concat(cornerRadius.topRight," ").concat(cornerRadius.topRight," ").concat(direction),bottomLeftPath="".concat(cornerRadius.bottomLeft," ").concat(cornerRadius.bottomLeft," ").concat(direction);cornerRadius="".concat(cornerRadius.bottomRight," ").concat(cornerRadius.bottomRight,
" ").concat(direction);topLeftPath=["M","A ".concat(bottomLeftPath,","),"L","A ".concat(topLeftPath,","),"L","A ".concat(topRightPath,","),"L","A ".concat(cornerRadius,",")].reduce(function(acc,command,i){return acc+="".concat(command," ").concat(coords[i].x,", ").concat(coords[i].y," \n")},"");return"".concat(topLeftPath," z")},getVerticalBarPoints=function(position,sign,cr){var x0=position.x0,x1=position.x1,y0=position.y0,y1=position.y1;position=function(side){var isLeft="Left"===side,signL=isLeft?
1:-1,x=isLeft?x0:x1,bottomPoint={x:x+signL*cr["bottom".concat(side)],y:y0},bottomMiddlePoint={x:x,y:y0-sign*cr["bottom".concat(side)]},topMiddlePoint={x:x,y:y1+sign*cr["top".concat(side)]},topPoint={x:x+signL*cr["top".concat(side)],y:y1};if(1===sign?y0-cr["bottom".concat(side)]<y1+cr["top".concat(side)]:y0+cr["bottom".concat(side)]>y1-cr["top".concat(side)])bottomMiddlePoint=(0,_geometryHelperMethods.point)(x+signL*cr["top".concat(side)],y1+sign*cr["top".concat(side)]),bottomMiddlePoint=(0,_geometryHelperMethods.circle)(bottomMiddlePoint,
cr["top".concat(side)]),signL=(0,_geometryHelperMethods.point)(x+signL*cr["bottom".concat(side)],y0-sign*cr["bottom".concat(side)]),signL=(0,_geometryHelperMethods.circle)(signL,cr["bottom".concat(side)]),x=bottomMiddlePoint.intersection(signL),0<x.length?(side=x[isLeft?0:1],bottomMiddlePoint={x:side.x,y:side.y},topMiddlePoint={x:side.x,y:side.y}):cr["top".concat(side)]>cr["bottom".concat(side)]?(side=bottomMiddlePoint.solveX(y0)[isLeft?0:1],bottomPoint={x:side,y:y0},bottomMiddlePoint={x:side,y:y0},
topMiddlePoint={x:side,y:y0}):(topPoint=signL.solveX(y1)[isLeft?0:1],bottomMiddlePoint={x:topPoint,y:y1},topMiddlePoint={x:topPoint,y:y1},topPoint={x:topPoint,y:y1});bottomPoint=[bottomPoint,bottomMiddlePoint,topMiddlePoint,topPoint];return isLeft?bottomPoint:bottomPoint.reverse()};return position("Left").concat(position("Right"))};exports.getVerticalBarPath=function(props,width,cornerRadius){width=getPosition(props,width);var sign=width.y0>width.y1?1:-1;props=0<sign?"0 0 1":"0 0 0";width=getVerticalBarPoints(width,
sign,cornerRadius);return mapPointsToPath(width,cornerRadius,props)};var getHorizontalBarPoints=function(position,sign,cr){var x0=position.x0,x1=position.x1,y0=position.y0,y1=position.y1;position=function(side){var isLeft="Left"===side,signL=isLeft?1:-1,x=isLeft?x1:x0,bottomPoint={y:x+signL*cr["bottom".concat(side)],x:y0},bottomMiddlePoint={y:x,x:y0+sign*cr["bottom".concat(side)]},topMiddlePoint={y:x,x:y1-sign*cr["top".concat(side)]},topPoint={y:x+signL*cr["top".concat(side)],x:y1};if(1===sign?y0+
cr["bottom".concat(side)]>y1-cr["top".concat(side)]:y0-cr["bottom".concat(side)]<y1+cr["top".concat(side)])bottomMiddlePoint=(0,_geometryHelperMethods.point)(y1-sign*cr["top".concat(side)],x+signL*cr["top".concat(side)]),bottomMiddlePoint=(0,_geometryHelperMethods.circle)(bottomMiddlePoint,cr["top".concat(side)]),signL=(0,_geometryHelperMethods.point)(y0+sign*cr["bottom".concat(side)],x+signL*cr["bottom".concat(side)]),signL=(0,_geometryHelperMethods.circle)(signL,cr["bottom".concat(side)]),x=bottomMiddlePoint.intersection(signL),
0<x.length?(side=x.sort(function(a,b){return a.y-b.y})[isLeft?0:1],bottomMiddlePoint={x:side.x,y:side.y},topMiddlePoint={x:side.x,y:side.y}):cr["top".concat(side)]>cr["bottom".concat(side)]?(side=bottomMiddlePoint.solveY(y0)[isLeft?1:0],bottomPoint={y:side,x:y0},bottomMiddlePoint={y:side,x:y0},topMiddlePoint={y:side,x:y0}):(topPoint=signL.solveY(y1)[isLeft?1:0],bottomMiddlePoint={y:topPoint,x:y1},topMiddlePoint={y:topPoint,x:y1},topPoint={y:topPoint,x:y1});bottomPoint=[bottomPoint,bottomMiddlePoint,
topMiddlePoint,topPoint];return isLeft?bottomPoint:bottomPoint.reverse()};return position("Left").concat(position("Right"))};exports.getHorizontalBarPath=function(props,width,cornerRadius){width=getPosition(props,width);var sign=width.y1>width.y0?1:-1;props=0<sign?"0 0 1":"0 0 0";width=getHorizontalBarPoints(width,sign,cornerRadius);return mapPointsToPath(width,cornerRadius,props)};exports.getVerticalPolarBarPath=function(props,cornerRadius){var datum=props.datum,scale=props.scale,index=props.index,
alignment=props.alignment,style=_victoryCore.Helpers.evaluateStyle(props.style,datum,props.active),r1=scale.y(datum._y0||0),r2=scale.y(void 0!==datum._y1?datum._y1:datum._y);datum=scale.x(void 0!==datum._x1?datum._x1:datum._x);if(style.width){props=getAngularWidth(props,style.width);props="middle"===alignment?props/2:props;var start="start"===alignment?datum:datum-props;var end="end"===alignment?datum:datum+props}else start=getStartAngle(props,index),end=getEndAngle(props,index);var getPath=function(edge){return d3Shape.arc().innerRadius(r1).outerRadius(r2).startAngle(-1*
start+Math.PI/2).endAngle(-1*end+Math.PI/2).cornerRadius(cornerRadius[edge])()},getPathData=function(edge){var rightPath=getPath("".concat(edge,"Right")),rightMoves=rightPath.match(/[A-Z]/g);rightPath=rightPath.split(/[A-Z]/).slice(1);var rightMiddle=rightMoves.indexOf("L"),leftPath=getPath("".concat(edge,"Left"));edge=leftPath.match(/[A-Z]/g);leftPath=leftPath.split(/[A-Z]/).slice(1);var leftMiddle=edge.indexOf("L");return{rightMoves:rightMoves,rightCoords:rightPath,rightMiddle:rightMiddle,leftMoves:edge,
leftCoords:leftPath,leftMiddle:leftMiddle}};alignment=function(){var topRight=cornerRadius.topRight,topLeft=cornerRadius.topLeft,arcLength=r2*Math.abs(end-start),_getPathData=getPathData("top"),rightMoves=_getPathData.rightMoves,rightCoords=_getPathData.rightCoords,rightMiddle=_getPathData.rightMiddle,leftMoves=_getPathData.leftMoves,leftCoords=_getPathData.leftCoords;_getPathData=_getPathData.leftMiddle;topRight===topLeft||arcLength<2*topRight+2*topLeft?(rightMoves=topRight>topLeft?rightMoves:leftMoves,
rightCoords=topRight>topLeft?rightCoords:leftCoords):(arcLength=topLeft>topRight&&3>rightMiddle?1:2,topRight=topRight>topLeft?3>_getPathData?_getPathData-1:3>rightMiddle?_getPathData:_getPathData-2:3>rightMiddle?3>_getPathData?1:2:_getPathData-2,rightMoves=_toConsumableArray(rightMoves.slice(0,arcLength)).concat(_toConsumableArray(leftMoves.slice(topRight))),rightCoords=_toConsumableArray(rightCoords.slice(0,arcLength)).concat(_toConsumableArray(leftCoords.slice(topRight))));leftCoords=rightMoves.indexOf("L");
topRight=rightMoves.slice(0,leftCoords);var subCoords=rightCoords.slice(0,leftCoords);return topRight.map(function(m,i){return{command:m,coords:subCoords[i].split(",")}})}();props=function(){var bottomRight=cornerRadius.bottomRight,bottomLeft=cornerRadius.bottomLeft,arcLength=r1*Math.abs(end-start),_getPathData2=getPathData("bottom"),rightMoves=_getPathData2.rightMoves,rightCoords=_getPathData2.rightCoords,rightMiddle=_getPathData2.rightMiddle,leftMoves=_getPathData2.leftMoves,leftCoords=_getPathData2.leftCoords;
_getPathData2=_getPathData2.leftMiddle;bottomRight===bottomLeft||arcLength<2*bottomRight+2*bottomLeft?(rightMoves=bottomRight>bottomLeft?rightMoves:leftMoves,rightCoords=bottomRight>bottomLeft?rightCoords:leftCoords):(bottomRight=(bottomRight>bottomLeft?4>rightMoves.length-rightMiddle:4>leftMoves.length-_getPathData2)?-1:-3,rightMoves=_toConsumableArray(leftMoves.slice(0,_getPathData2+2)).concat(_toConsumableArray(rightMoves.slice(bottomRight))),rightCoords=_toConsumableArray(leftCoords.slice(0,_getPathData2+
2)).concat(_toConsumableArray(rightCoords.slice(bottomRight))));leftCoords=rightMoves.indexOf("L");bottomRight=rightMoves.slice(leftCoords,-1);var subCoords=rightCoords.slice(leftCoords,-1);return bottomRight.map(function(m,i){return{command:m,coords:subCoords[i].split(",")}})}();alignment=_toConsumableArray(alignment).concat(_toConsumableArray(props)).reduce(function(memo,move){return memo+="".concat(move.command," ").concat(move.coords.join())},"");return"".concat(alignment," z")}}
//# sourceMappingURL=module$node_modules$victory_bar$lib$path_helper_methods.js.map
