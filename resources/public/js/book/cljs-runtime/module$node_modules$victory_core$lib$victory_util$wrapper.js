shadow$provide.module$node_modules$victory_core$lib$victory_util$wrapper=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||
"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _isPlainObject2=_interopRequireDefault(require("module$node_modules$lodash$isPlainObject")),_values2=_interopRequireDefault(require("module$node_modules$lodash$values")),_groupBy2=_interopRequireDefault(require("module$node_modules$lodash$groupBy")),
_some2=_interopRequireDefault(require("module$node_modules$lodash$some")),_uniq2=_interopRequireDefault(require("module$node_modules$lodash$uniq")),_isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),_flatten2=_interopRequireDefault(require("module$node_modules$lodash$flatten")),_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_react=_interopRequireDefault(require("module$node_modules$react$index")),
_axis=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$axis")),_style=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$style")),_transitions=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$transitions")),_data=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$data")),_domain=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$domain")),_events=
_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$events")),_collection=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$collection")),_helpers=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$helpers"));exports.default={getData:function(props,childComponents){if(props.data)return _data.default.getData(props);childComponents=childComponents||_react.default.Children.toArray(props.children);return this.getDataFromChildren(childComponents)},
getDefaultDomainPadding:function(props,axis,childComponents){var horizontalChildren=childComponents.some(function(component){return component.props&&component.props.horizontal});props=props&&props.horizontal||horizontalChildren;childComponents=childComponents.filter(function(child){return child.type&&child.type.role&&"group"===child.type.role});if(!(1>childComponents.length))return horizontalChildren=childComponents[0].props,childComponents=horizontalChildren.offset,horizontalChildren=horizontalChildren.children,
(props?{y:childComponents*horizontalChildren.length/2}:{x:childComponents*horizontalChildren.length/2})[axis]},getDomain:function(props,axis,childComponents){childComponents=childComponents||_react.default.Children.toArray(props.children);var propsDomain=_domain.default.getDomainFromProps(props,axis),minDomain=_domain.default.getMinFromProps(props,axis),maxDomain=_domain.default.getMaxFromProps(props,axis),domainPadding=props.polar?0:this.getDefaultDomainPadding(props,axis,childComponents);propsDomain?
maxDomain=propsDomain:(propsDomain=(propsDomain=(props.data||props.y)&&_data.default.getData(props))?_domain.default.getDomainFromData(props,axis,propsDomain):[],childComponents=this.getDomainFromChildren(props,axis,childComponents),minDomain=minDomain||_collection.default.getMinValue(_toConsumableArray(propsDomain).concat(_toConsumableArray(childComponents))),maxDomain=maxDomain||_collection.default.getMaxValue(_toConsumableArray(propsDomain).concat(_toConsumableArray(childComponents))),maxDomain=
_domain.default.getDomainFromMinMax(minDomain,maxDomain));return _domain.default.formatDomain(maxDomain,(0,_assign2.default)({domainPadding:domainPadding},props),axis)},setAnimationState:function(props,nextProps){if(props.animate)if(props.animate.parentState){var oldProps=props.animate.parentState.nodesWillExit?props:null;this.setState((0,_defaults2.default)({oldProps:oldProps,nextProps:nextProps},props.animate.parentState))}else{var oldChildren=_react.default.Children.toArray(props.children),nextChildren=
_react.default.Children.toArray(nextProps.children),isContinuous=function(child){var check=function(c){return c.type&&c.type.continuous};return Array.isArray(child)?(0,_some2.default)(child,check):check(child)};oldProps=!props.polar&&(0,_some2.default)(oldChildren,function(child){return isContinuous(child)||child.props.children&&isContinuous(child.props.children)});oldChildren=_transitions.default.getInitialTransitionState(oldChildren,nextChildren);nextChildren=oldChildren.nodesWillExit;var childrenTransitions=
oldChildren.childrenTransitions;this.setState({nodesWillExit:nextChildren,nodesWillEnter:oldChildren.nodesWillEnter,nodesShouldEnter:oldChildren.nodesShouldEnter,childrenTransitions:_collection.default.isArrayOfArrays(childrenTransitions)?childrenTransitions[0]:childrenTransitions,oldProps:nextChildren?props:null,nextProps:nextProps,continuous:oldProps})}},getAllEvents:function(props){this.componentEvents=_events.default.getComponentEvents(props,["groupComponent","containerComponent","labelComponent"]);
var events=props.events;if(Array.isArray(this.componentEvents)){var _componentEvents;events=Array.isArray(props.events)?(_componentEvents=this.componentEvents).concat.apply(_componentEvents,_toConsumableArray(props.events)):this.componentEvents}return events||[]},getAnimationProps:function(props,child,index){var _this=this;if(!props.animate)return child.props.animate;var getTransitions=props.animate&&props.animate.getTransitions,state=function(){var childrenTransitions=_this.state&&_this.state.childrenTransitions;
childrenTransitions=_collection.default.isArrayOfArrays(childrenTransitions)?childrenTransitions[index]:childrenTransitions;return(0,_defaults2.default)({childrenTransitions:childrenTransitions},_this.state)}(),parentState=props.animate&&props.animate.parentState||state;if(!getTransitions){var getTransitionProps=_transitions.default.getTransitionPropsFactory(props,state,function(newState){return _this.setState(newState)});getTransitions=function(childComponent){return getTransitionProps(childComponent,
index)}}return(0,_defaults2.default)({getTransitions:getTransitions,parentState:parentState},props.animate,child.props.animate)},getDomainFromChildren:function(props,axis,childComponents){var children=childComponents?childComponents.slice(0):_react.default.Children.toArray(props.children);childComponents=childComponents.some(function(component){return component.props&&component.props.horizontal});var currentAxis=_axis.default.getCurrentAxis(axis,props&&props.horizontal||0<childComponents.length);
axis=props.data?_data.default.getData(props,axis):void 0;childComponents={polar:props.polar,startAngle:props.startAngle,endAngle:props.endAngle,categories:props.categories,minDomain:props.minDomain,maxDomain:props.maxDomain};var parentProps=axis?(0,_assign2.default)(childComponents,{data:axis}):childComponents;children=_helpers.default.reduceChildren(children,function(child){var sharedProps=(0,_assign2.default)({},child.props,parentProps);return _domain.default.isDomainComponent(child)?child.type&&
(0,_isFunction2.default)(child.type.getDomain)?child.props&&child.type.getDomain(sharedProps,currentAxis):_domain.default.getDomain(sharedProps,currentAxis):null},props);props=0===children.length?0:_collection.default.getMinValue(children);children=0===children.length?1:_collection.default.getMaxValue(children);return[props,children]},getDataFromChildren:function(props,childComponents){var parentProps={polar:props.polar,startAngle:props.startAngle,endAngle:props.endAngle,categories:props.categories,
minDomain:props.minDomain,maxDomain:props.maxDomain},stack=0,children=childComponents?childComponents.slice(0):_react.default.Children.toArray(props.children);childComponents=children.filter(function(c){return c.type&&"stack"===c.type.role}).length;props=_helpers.default.reduceChildren(children,function(child,childName,parent){childName=(0,_assign2.default)({},child.props,parentProps);if(_data.default.isDataComponent(child))child.type&&(0,_isFunction2.default)(child.type.getData)?(child=parent?_react.default.cloneElement(child,
parent.props):child,child=child.type.getData(childName)):child=_data.default.getData(childName);else return null;stack+=1;return child.map(function(datum,index){return(0,_assign2.default)({stack:stack,group:index},datum)})},props);childComponents=childComponents?"group":"stack";return(0,_values2.default)((0,_groupBy2.default)(props,childComponents))},getColor:function(calculatedProps,child,index){var style=calculatedProps.style,colorScale=calculatedProps.colorScale;calculatedProps=calculatedProps.color;
if(style&&style.data&&style.data.fill)return style.data.fill;colorScale=child.props&&child.props.colorScale?child.props.colorScale:colorScale;calculatedProps=child.props&&child.props.color?child.props.color:calculatedProps;if(colorScale||calculatedProps)return child=Array.isArray(colorScale)?colorScale:_style.default.getColorScale(colorScale),calculatedProps||child[index%child.length]},getWidth:function(props){var datasets=props.datasets,scale=props.scale;props=props.horizontal?scale.y.range():scale.x.range();
props=Math.abs(props[1]-props[0]);scale=Array.isArray(datasets[0])?datasets[0].length:1;return{width:Math.round(.5*props/(datasets.length*scale+2))}},getStyle:function(theme,style,role){return _helpers.default.getStyles(style,theme&&theme[role]&&theme[role].style?theme[role].style:{})},getChildStyle:function(child,index,calculatedProps){var style=calculatedProps.style,role=calculatedProps.role,childStyle=child.props.style||{};if(Array.isArray(childStyle))return childStyle;var childRole=child.type&&
child.type.role;child="stack"===childRole?void 0:this.getColor(calculatedProps,child,index);childRole="line"===childRole?{fill:"none",stroke:child}:{fill:child};calculatedProps="stack"===role?{}:this.getWidth(calculatedProps);calculatedProps=(0,_defaults2.default)({},childStyle.data,(0,_assign2.default)({},calculatedProps,style.data,childRole));childStyle=(0,_defaults2.default)({},childStyle.labels,style.labels);return{parent:style.parent,data:calculatedProps,labels:childStyle}},getStringsFromCategories:function(childComponents,
axis){return _helpers.default.reduceChildren(childComponents.slice(0),function(child){var childProps=child.props||{};return _domain.default.isDomainComponent(child)&&childProps.categories?(child=(child=childProps.categories&&!Array.isArray(childProps.categories)?childProps.categories[axis]:childProps.props.categories)&&child.filter(function(val){return"string"===typeof val}))?_collection.default.removeUndefined(child):[]:null})},getStringsFromData:function(childComponents){return _helpers.default.reduceChildren(childComponents.slice(0),
function(child){var childProps=child.props||{};if(_data.default.isDataComponent(child))child=child.type&&(0,_isFunction2.default)(child.type.getData)?child.type.getData(childProps):_data.default.getData(childProps);else return null;return child.map(function(d){return{x:d.xName,y:d.yName}})},{},{x:[],y:[]},function(memo,datum){var x=Array.isArray(datum)?datum.map(function(d){return d.x}).filter(Boolean):datum.x;datum=Array.isArray(datum)?datum.map(function(d){return d.y}).filter(Boolean):datum.y;return{x:void 0!==
x?memo.x.concat(x):memo.x,y:void 0!==datum?memo.y.concat(datum):memo.y}})},getCategoryAndAxisStringsFromChildren:function(props,axis,childComponents){var currentAxis=_helpers.default.getCurrentAxis(axis,props.horizontal);props=(0,_isPlainObject2.default)(props.categories)?props.categories[axis]:props.categories;currentAxis=(currentAxis=_axis.default.getAxisComponent(childComponents,currentAxis))?_data.default.getStringsFromAxes(currentAxis.props,axis):[];axis=props||this.getStringsFromCategories(childComponents,
axis);return(0,_uniq2.default)((0,_flatten2.default)(_toConsumableArray(axis).concat(_toConsumableArray(currentAxis))))},getStringsFromChildren:function(props,childComponents){childComponents=childComponents||_react.default.Children.toArray(props.children);var xStrings=this.getCategoryAndAxisStringsFromChildren(props,"x",childComponents);props=this.getCategoryAndAxisStringsFromChildren(props,"y",childComponents);childComponents=this.getStringsFromData(childComponents);return{x:(0,_uniq2.default)((0,
_flatten2.default)(_toConsumableArray(xStrings).concat(_toConsumableArray(childComponents.x)))),y:(0,_uniq2.default)((0,_flatten2.default)(_toConsumableArray(props).concat(_toConsumableArray(childComponents.y))))}},getCategories:function(props){var xPropCategories=props.categories&&!Array.isArray(props.categories)?props.categories.x:props.categories,yPropCategories=props.categories&&!Array.isArray(props.categories)?props.categories.y:props.categories;props=xPropCategories&&yPropCategories?{}:this.getStringsFromChildren(props);
xPropCategories=xPropCategories||props.x;yPropCategories=yPropCategories||props.y;return{x:0<xPropCategories.length?xPropCategories:void 0,y:0<yPropCategories.length?yPropCategories:void 0}}}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$wrapper.js.map
