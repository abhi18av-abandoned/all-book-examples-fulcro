shadow$provide.module$node_modules$victory_core$lib$victory_util$domain=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||
"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function getDomainPadding(props,axis){var formatPadding=function(padding){return Array.isArray(padding)?{left:padding[0],right:padding[1]}:{left:padding,right:padding}};return(0,_isPlainObject2.default)(props.domainPadding)?formatPadding(props.domainPadding[axis]):formatPadding(props.domainPadding)}function getFlatData(dataset,
axis){return(0,_flatten2.default)(dataset).map(function(datum){return datum["_".concat(axis)]&&void 0!==datum["_".concat(axis)][1]?datum["_".concat(axis)][1]:datum["_".concat(axis)]})}function getExtremeFromData(dataset,axis){var type=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"min",getExtreme=function(arr){return"max"===type?Math.max.apply(Math,_toConsumableArray(arr)):Math.min.apply(Math,_toConsumableArray(arr))},initialValue="max"===type?-Infinity:Infinity,containsDate=!1;initialValue=
(0,_flatten2.default)(dataset).reduce(function(memo,datum){var current0=void 0!==datum["_".concat(axis,"0")]?datum["_".concat(axis,"0")]:datum["_".concat(axis)];datum=void 0!==datum["_".concat(axis,"1")]?datum["_".concat(axis,"1")]:datum["_".concat(axis)];var current=getExtreme([current0,datum]);containsDate=containsDate||current0 instanceof Date||datum instanceof Date;return getExtreme([memo,current])},initialValue);return containsDate?new Date(initialValue):initialValue}function padDomain(domain,
props,axis){if(!props.domainPadding)return domain;var minDomain=getMinFromProps(props,axis),maxDomain=getMaxFromProps(props,axis),padding=getDomainPadding(props,axis);if(!padding.left&&!padding.right)return domain;var min=_collection.default.getMinValue(domain),max=_collection.default.getMaxValue(domain);domain=_helpers.default.getRange(props,axis);domain=Math.abs(domain[0]-domain[1]);var JSCompiler_object_inline_left_2796=Math.abs(max-min)*padding.left/domain,JSCompiler_object_inline_right_2797=
Math.abs(max-min)*padding.right/domain,singleQuadrantDomainPadding=(0,_isPlainObject2.default)(props.singleQuadrantDomainPadding)?props.singleQuadrantDomainPadding[axis]:props.singleQuadrantDomainPadding;props=function(val,type){return!1===singleQuadrantDomainPadding?val:"min"===type&&0<=min&&0>=val||"max"===type&&0>=max&&0<=val?0:val};axis=props(min.valueOf()-JSCompiler_object_inline_left_2796,"min");JSCompiler_object_inline_left_2796=props(max.valueOf()+JSCompiler_object_inline_right_2797,"max");
JSCompiler_object_inline_right_2797=Math.abs(JSCompiler_object_inline_left_2796-axis)*padding.right/domain;padding=props(min.valueOf()-Math.abs(JSCompiler_object_inline_left_2796-axis)*padding.left/domain,"min");domain=props(max.valueOf()+JSCompiler_object_inline_right_2797,"max");minDomain=void 0!==minDomain?minDomain:padding;maxDomain=void 0!==maxDomain?maxDomain:domain;return min instanceof Date||max instanceof Date?getDomainFromMinMax(new Date(minDomain),new Date(maxDomain)):getDomainFromMinMax(minDomain,
maxDomain)}function createDomainFunction(getDomainFromDataFunction,formatDomainFunction){getDomainFromDataFunction=(0,_isFunction2.default)(getDomainFromDataFunction)?getDomainFromDataFunction:getDomainFromData;formatDomainFunction=(0,_isFunction2.default)(formatDomainFunction)?formatDomainFunction:formatDomain;return function(props,axis){var propsDomain=getDomainFromProps(props,axis);if(propsDomain)return formatDomainFunction(propsDomain,props,axis);propsDomain=(propsDomain=_data.default.getCategories(props,
axis))?getDomainFromCategories(props,axis,propsDomain):getDomainFromDataFunction(props,axis);return formatDomainFunction(propsDomain,props,axis)}}function formatDomain(domain,props,axis){domain=padDomain(domain,props,axis);"log"!==_scale.default.getScaleType(props,axis)?props=domain:(props=0>domain[0]||0>domain[1]?-1/Number.MAX_SAFE_INTEGER:1/Number.MAX_SAFE_INTEGER,props=[0===domain[0]?props:domain[0],0===domain[1]?props:domain[1]]);return props}function getDomainFromCategories(props,axis,categories){categories=
categories||_data.default.getCategories(props,axis);var polar=props.polar,_props$startAngle=props.startAngle;_props$startAngle=void 0===_props$startAngle?0:_props$startAngle;var _props$endAngle=props.endAngle;_props$endAngle=void 0===_props$endAngle?360:_props$endAngle;if(categories){var minDomain=getMinFromProps(props,axis),maxDomain=getMaxFromProps(props,axis);props=_collection.default.containsStrings(categories)?_data.default.getStringsFromCategories(props,axis):[];var stringMap=0===props.length?
null:props.reduce(function(memo,string,index){memo[string]=index+1;return memo},{});categories=stringMap?categories.map(function(value){return stringMap[value]}):categories;props=void 0!==minDomain?minDomain:_collection.default.getMinValue(categories);maxDomain=void 0!==maxDomain?maxDomain:_collection.default.getMaxValue(categories);maxDomain=getDomainFromMinMax(props,maxDomain);return polar&&"x"===axis&&360===Math.abs(_props$startAngle-_props$endAngle)?getSymmetricDomain(maxDomain,categories):maxDomain}}
function getDomainFromData(props,axis,dataset){dataset=dataset||_data.default.getData(props);var horizontal=props.horizontal,polar=props.polar,_props$startAngle2=props.startAngle;_props$startAngle2=void 0===_props$startAngle2?0:_props$startAngle2;var _props$endAngle2=props.endAngle;_props$endAngle2=void 0===_props$endAngle2?360:_props$endAngle2;var minDomain=getMinFromProps(props,axis),maxDomain=getMaxFromProps(props,axis);if(1>dataset.length)return axis=_scale.default.getBaseScale(props,axis).domain(),
dataset=void 0!==minDomain?minDomain:_collection.default.getMinValue(axis),axis=void 0!==maxDomain?maxDomain:_collection.default.getMaxValue(axis),getDomainFromMinMax(dataset,axis);props=_helpers.default.getCurrentAxis(axis,horizontal);horizontal=void 0!==minDomain?minDomain:getExtremeFromData(dataset,props,"min");maxDomain=void 0!==maxDomain?maxDomain:getExtremeFromData(dataset,props,"max");maxDomain=getDomainFromMinMax(horizontal,maxDomain);return polar&&"x"===axis&&360===Math.abs(_props$startAngle2-
_props$endAngle2)?getSymmetricDomain(maxDomain,getFlatData(dataset,props)):maxDomain}function getDomainFromMinMax(min,max){if(+min===+max){var verySmallNumber=0===max?2*Math.pow(10,-10):Math.pow(10,-10);min=max instanceof Date?new Date(+max-1):+max-verySmallNumber;verySmallNumber=max instanceof Date?new Date(+max+1):+max+verySmallNumber;max=0===max?[0,verySmallNumber]:[min,verySmallNumber]}else max=[min,max];return max}function getDomainFromProps(props,axis){var minDomain=getMinFromProps(props,axis),
maxDomain=getMaxFromProps(props,axis);if((0,_isPlainObject2.default)(props.domain)&&props.domain[axis])return props.domain[axis];if(Array.isArray(props.domain))return props.domain;if(void 0!==minDomain&&void 0!==maxDomain)return getDomainFromMinMax(minDomain,maxDomain)}function getMaxFromProps(props,axis){return(0,_isPlainObject2.default)(props.maxDomain)&&void 0!==props.maxDomain[axis]?props.maxDomain[axis]:"number"===typeof props.maxDomain?props.maxDomain:void 0}function getMinFromProps(props,axis){return(0,
_isPlainObject2.default)(props.minDomain)&&void 0!==props.minDomain[axis]?props.minDomain[axis]:"number"===typeof props.minDomain?props.minDomain:void 0}function getSymmetricDomain(domain,values){values=(0,_sortedUniq2.default)(values.sort(function(a,b){return a-b}));return[domain[0],domain[1]+(values[1]-values[0])]}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _includes2=_interopRequireDefault(require("module$node_modules$lodash$includes")),_isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),
_sortedUniq2=_interopRequireDefault(require("module$node_modules$lodash$sortedUniq")),_isPlainObject2=_interopRequireDefault(require("module$node_modules$lodash$isPlainObject")),_flatten2=_interopRequireDefault(require("module$node_modules$lodash$flatten")),_react=_interopRequireDefault(require("module$node_modules$react$index")),_data=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$data")),_scale=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$scale")),
_helpers=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$helpers")),_collection=_interopRequireDefault(require("module$node_modules$victory_core$lib$victory_util$collection"));exports.default={createDomainFunction:createDomainFunction,formatDomain:formatDomain,getDomain:function(props,axis){return createDomainFunction()(props,axis)},getDomainFromCategories:getDomainFromCategories,getDomainFromData:getDomainFromData,getDomainFromMinMax:getDomainFromMinMax,getDomainFromProps:getDomainFromProps,
getDomainWithZero:function(props,axis){var propsDomain=getDomainFromProps(props,axis);if(propsDomain)return propsDomain;var dataset=_data.default.getData(props),y0Min=dataset.reduce(function(min,datum){return datum._y0<min?datum._y0:min},Infinity);return createDomainFunction(function(){return getDomainFromData(props,axis,dataset)},function(domain){if("x"!==_helpers.default.getCurrentAxis(axis,props.horizontal)){var defaultMin=Infinity!==y0Min?y0Min:0,maxDomainProp=getMaxFromProps(props,axis),minDomainProp=
getMinFromProps(props,axis);maxDomainProp=void 0!==maxDomainProp?maxDomainProp:_collection.default.getMaxValue(domain,defaultMin);domain=void 0!==minDomainProp?minDomainProp:_collection.default.getMinValue(domain,defaultMin);domain=getDomainFromMinMax(domain,maxDomainProp)}return formatDomain(domain,props,axis)})(props,axis)},getMaxFromProps:getMaxFromProps,getMinFromProps:getMinFromProps,getSymmetricDomain:getSymmetricDomain,isDomainComponent:function(component){var role=component&&component.type?
component.type.role:"";"portal"===role&&(component=_react.default.Children.toArray(component.props.children),component=component.length?(component=component[0])&&component.type?component.type.role:"":"",role=component);return(0,_includes2.default)("area axis bar boxplot candlestick errorbar group line pie scatter stack voronoi".split(" "),role)}}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$domain.js.map
