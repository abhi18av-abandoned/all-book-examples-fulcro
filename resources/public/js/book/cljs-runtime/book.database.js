goog.provide('book.database');
goog.require('cljs.core');
goog.require('cljs.spec.alpha');
goog.require('datascript.core');
goog.require('com.wsscode.pathom.connect');
goog.require('com.wsscode.pathom.core');
goog.require('cljs.core.async');
goog.require('cljs.pprint');
goog.require('taoensso.timbre');
book.database.schema = new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("person","id","person/id",-392409377),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","unique","db/unique",329396388),new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722)], null),new cljs.core.Keyword("person","spouse","person/spouse",-1872188210),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db.cardinality","one","db.cardinality/one",1428352190)], null),new cljs.core.Keyword("person","children","person/children",13863319),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234)], null),new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234)], null),new cljs.core.Keyword("person","phone-numbers","person/phone-numbers",1560599295),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234)], null)], null);
if((typeof book !== 'undefined') && (typeof book.database !== 'undefined') && (typeof book.database.connection !== 'undefined')){
} else {
book.database.connection = datascript.core.create_conn.cljs$core$IFn$_invoke$arity$1(book.database.schema);
}
book.database.db = (function book$database$db(connection){
return cljs.core.deref(connection);
});
book.database.seed_database = (function book$database$seed_database(){
return datascript.core.transact_BANG_.cljs$core$IFn$_invoke$arity$2(book.database.connection,new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword("db","id","db/id",-1388397098),(1),new cljs.core.Keyword("person","id","person/id",-392409377),(1),new cljs.core.Keyword("person","age","person/age",387881455),(45),new cljs.core.Keyword("person","name","person/name",549444500),"Sally",new cljs.core.Keyword("person","spouse","person/spouse",-1872188210),(2),new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [(100),null], null), null),new cljs.core.Keyword("person","phone-numbers","person/phone-numbers",1560599295),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(11),null,(10),null], null), null),new cljs.core.Keyword("person","children","person/children",13863319),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(4),null,(3),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("db","id","db/id",-1388397098),(10),new cljs.core.Keyword("phone","id","phone/id",-1272714042),(10),new cljs.core.Keyword("phone","number","phone/number",1397184156),"812-555-1212",new cljs.core.Keyword("phone","type","phone/type",1541079546),new cljs.core.Keyword(null,"work","work",385770312)], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("db","id","db/id",-1388397098),(11),new cljs.core.Keyword("phone","id","phone/id",-1272714042),(11),new cljs.core.Keyword("phone","number","phone/number",1397184156),"502-555-1212",new cljs.core.Keyword("phone","type","phone/type",1541079546),new cljs.core.Keyword(null,"home","home",-74557309)], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("db","id","db/id",-1388397098),(12),new cljs.core.Keyword("phone","id","phone/id",-1272714042),(12),new cljs.core.Keyword("phone","number","phone/number",1397184156),"503-555-1212",new cljs.core.Keyword("phone","type","phone/type",1541079546),new cljs.core.Keyword(null,"work","work",385770312)], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword("db","id","db/id",-1388397098),(2),new cljs.core.Keyword("person","id","person/id",-392409377),(2),new cljs.core.Keyword("person","name","person/name",549444500),"Tom",new cljs.core.Keyword("person","age","person/age",387881455),(48),new cljs.core.Keyword("person","phone-numbers","person/phone-numbers",1560599295),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(12),null,(11),null], null), null),new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [(100),null], null), null),new cljs.core.Keyword("person","spouse","person/spouse",-1872188210),(1),new cljs.core.Keyword("person","children","person/children",13863319),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [(4),null,(3),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("db","id","db/id",-1388397098),(3),new cljs.core.Keyword("person","id","person/id",-392409377),(3),new cljs.core.Keyword("person","age","person/age",387881455),(17),new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [(100),null], null), null),new cljs.core.Keyword("person","name","person/name",549444500),"Amy"], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("db","id","db/id",-1388397098),(4),new cljs.core.Keyword("person","id","person/id",-392409377),(4),new cljs.core.Keyword("person","age","person/age",387881455),(25),new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [(100),null], null), null),new cljs.core.Keyword("person","name","person/name",549444500),"Billy",new cljs.core.Keyword("person","children","person/children",13863319),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [(5),null], null), null)], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("db","id","db/id",-1388397098),(5),new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [(100),null], null), null),new cljs.core.Keyword("person","id","person/id",-392409377),(5),new cljs.core.Keyword("person","age","person/age",387881455),(1),new cljs.core.Keyword("person","name","person/name",549444500),"Billy Jr."], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("db","id","db/id",-1388397098),(100),new cljs.core.Keyword("address","id","address/id",-555725248),(100),new cljs.core.Keyword("address","street","address/street",-1294042213),"101 Main St",new cljs.core.Keyword("address","city","address/city",-1506334306),"Nowhere",new cljs.core.Keyword("address","state","address/state",786869409),"GA",new cljs.core.Keyword("address","postal-code","address/postal-code",1502529683),"99999"], null)], null));
});
book.database.person_resolver = com.wsscode.pathom.connect.resolver(new cljs.core.Symbol("book.database","person-resolver","book.database/person-resolver",179278749,null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("com.wsscode.pathom.connect","input","com.wsscode.pathom.connect/input",-1274439121),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","id","person/id",-392409377),null], null), null),new cljs.core.Keyword("com.wsscode.pathom.connect","output","com.wsscode.pathom.connect/output",552487303),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("person","name","person/name",549444500),new cljs.core.Keyword("person","age","person/age",387881455),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("address","id","address/id",-555725248)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","phone-numbers","person/phone-numbers",1560599295),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("phone","id","phone/id",-1272714042)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","spouse","person/spouse",-1872188210),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("person","id","person/id",-392409377)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","children","person/children",13863319),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("person","id","person/id",-392409377)], null)], null)], null)], null),(function book$database$person_resolver(p__68651,p__68652){
var map__68654 = p__68651;
var map__68654__$1 = (((((!((map__68654 == null))))?(((((map__68654.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68654.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68654):map__68654);
var connection = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68654__$1,new cljs.core.Keyword(null,"connection","connection",-123599300));
var map__68655 = p__68652;
var map__68655__$1 = (((((!((map__68655 == null))))?(((((map__68655.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68655.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68655):map__68655);
var id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68655__$1,new cljs.core.Keyword("person","id","person/id",-392409377));
var G__68660 = book.database.db(connection);
var G__68661 = new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("person","name","person/name",549444500),new cljs.core.Keyword("person","age","person/age",387881455),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("address","id","address/id",-555725248)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","phone-numbers","person/phone-numbers",1560599295),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("phone","id","phone/id",-1272714042)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","spouse","person/spouse",-1872188210),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("person","id","person/id",-392409377)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","children","person/children",13863319),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("person","id","person/id",-392409377)], null)], null)], null);
var G__68662 = id;
return (datascript.core.pull.cljs$core$IFn$_invoke$arity$3 ? datascript.core.pull.cljs$core$IFn$_invoke$arity$3(G__68660,G__68661,G__68662) : datascript.core.pull.call(null,G__68660,G__68661,G__68662));
}));
book.database.all_people_resolver = com.wsscode.pathom.connect.resolver(new cljs.core.Symbol("book.database","all-people-resolver","book.database/all-people-resolver",1661161413,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("com.wsscode.pathom.connect","output","com.wsscode.pathom.connect/output",552487303),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"all-people","all-people",1672924564),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("person","id","person/id",-392409377)], null)], null)], null)], null),(function book$database$all_people_resolver(p__68665,_){
var map__68666 = p__68665;
var map__68666__$1 = (((((!((map__68666 == null))))?(((((map__68666.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68666.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68666):map__68666);
var connection = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68666__$1,new cljs.core.Keyword(null,"connection","connection",-123599300));
return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"all-people","all-people",1672924564),cljs.core.mapv.cljs$core$IFn$_invoke$arity$2(((function (map__68666,map__68666__$1,connection){
return (function (id){
return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","id","person/id",-392409377),id], null);
});})(map__68666,map__68666__$1,connection))
,(function (){var G__68668 = new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"...","...",-1926939749,null)], null),new cljs.core.Keyword(null,"where","where",-2044795965),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword("person","id","person/id",-392409377)], null)], null);
var G__68669 = book.database.db(connection);
return (datascript.core.q.cljs$core$IFn$_invoke$arity$2 ? datascript.core.q.cljs$core$IFn$_invoke$arity$2(G__68668,G__68669) : datascript.core.q.call(null,G__68668,G__68669));
})())], null);
}));
book.database.address_resolver = com.wsscode.pathom.connect.resolver(new cljs.core.Symbol("book.database","address-resolver","book.database/address-resolver",41583721,null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("com.wsscode.pathom.connect","input","com.wsscode.pathom.connect/input",-1274439121),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("address","id","address/id",-555725248),null], null), null),new cljs.core.Keyword("com.wsscode.pathom.connect","output","com.wsscode.pathom.connect/output",552487303),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("address","street","address/street",-1294042213),new cljs.core.Keyword("address","state","address/state",786869409),new cljs.core.Keyword("address","city","address/city",-1506334306),new cljs.core.Keyword("address","postal-code","address/postal-code",1502529683)], null)], null),(function book$database$address_resolver(p__68672,p__68673){
var map__68674 = p__68672;
var map__68674__$1 = (((((!((map__68674 == null))))?(((((map__68674.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68674.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68674):map__68674);
var env = map__68674__$1;
var parent_query = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68674__$1,new cljs.core.Keyword("com.wsscode.pathom.core","parent-query","com.wsscode.pathom.core/parent-query",1683392594));
var connection = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68674__$1,new cljs.core.Keyword(null,"connection","connection",-123599300));
var map__68675 = p__68673;
var map__68675__$1 = (((((!((map__68675 == null))))?(((((map__68675.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68675.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68675):map__68675);
var id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68675__$1,new cljs.core.Keyword("address","id","address/id",-555725248));
var G__68679 = book.database.db(connection);
var G__68680 = parent_query;
var G__68681 = id;
return (datascript.core.pull.cljs$core$IFn$_invoke$arity$3 ? datascript.core.pull.cljs$core$IFn$_invoke$arity$3(G__68679,G__68680,G__68681) : datascript.core.pull.call(null,G__68679,G__68680,G__68681));
}));
book.database.phone_resolver = com.wsscode.pathom.connect.resolver(new cljs.core.Symbol("book.database","phone-resolver","book.database/phone-resolver",-234881168,null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("com.wsscode.pathom.connect","input","com.wsscode.pathom.connect/input",-1274439121),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("phone","id","phone/id",-1272714042),null], null), null),new cljs.core.Keyword("com.wsscode.pathom.connect","output","com.wsscode.pathom.connect/output",552487303),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("phone","number","phone/number",1397184156),new cljs.core.Keyword("phone","type","phone/type",1541079546)], null)], null),(function book$database$phone_resolver(p__68682,p__68683){
var map__68684 = p__68682;
var map__68684__$1 = (((((!((map__68684 == null))))?(((((map__68684.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68684.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68684):map__68684);
var env = map__68684__$1;
var parent_query = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68684__$1,new cljs.core.Keyword("com.wsscode.pathom.core","parent-query","com.wsscode.pathom.core/parent-query",1683392594));
var connection = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68684__$1,new cljs.core.Keyword(null,"connection","connection",-123599300));
var map__68685 = p__68683;
var map__68685__$1 = (((((!((map__68685 == null))))?(((((map__68685.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68685.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68685):map__68685);
var id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68685__$1,new cljs.core.Keyword("phone","id","phone/id",-1272714042));
var G__68690 = book.database.db(connection);
var G__68691 = parent_query;
var G__68692 = id;
return (datascript.core.pull.cljs$core$IFn$_invoke$arity$3 ? datascript.core.pull.cljs$core$IFn$_invoke$arity$3(G__68690,G__68691,G__68692) : datascript.core.pull.call(null,G__68690,G__68691,G__68692));
}));
book.database.default_address_resolver = com.wsscode.pathom.connect.resolver(new cljs.core.Symbol("book.database","default-address-resolver","book.database/default-address-resolver",387319199,null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("com.wsscode.pathom.connect","input","com.wsscode.pathom.connect/input",-1274439121),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("person","id","person/id",-392409377),null], null), null),new cljs.core.Keyword("com.wsscode.pathom.connect","output","com.wsscode.pathom.connect/output",552487303),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("address","id","address/id",-555725248)], null)], null),(function book$database$default_address_resolver(p__68697,p__68698){
var map__68699 = p__68697;
var map__68699__$1 = (((((!((map__68699 == null))))?(((((map__68699.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68699.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68699):map__68699);
var connection = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68699__$1,new cljs.core.Keyword(null,"connection","connection",-123599300));
var map__68700 = p__68698;
var map__68700__$1 = (((((!((map__68700 == null))))?(((((map__68700.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__68700.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__68700):map__68700);
var id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__68700__$1,new cljs.core.Keyword("person","id","person/id",-392409377));
var address_id = (function (){var G__68704 = new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?a","?a",1314302913,null),new cljs.core.Symbol(null,".",".",1975675962,null),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Symbol(null,"$","$",-1580747756,null),new cljs.core.Symbol(null,"?pid","?pid",1629644191,null),new cljs.core.Keyword(null,"where","where",-2044795965),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"?pid","?pid",1629644191,null),new cljs.core.Keyword("person","addresses","person/addresses",-1555948419),new cljs.core.Symbol(null,"?addr","?addr",-1917359499,null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"?addr","?addr",-1917359499,null),new cljs.core.Keyword("address","id","address/id",-555725248),new cljs.core.Symbol(null,"?a","?a",1314302913,null)], null)], null);
var G__68705 = book.database.db(connection);
var G__68706 = id;
return (datascript.core.q.cljs$core$IFn$_invoke$arity$3 ? datascript.core.q.cljs$core$IFn$_invoke$arity$3(G__68704,G__68705,G__68706) : datascript.core.q.call(null,G__68704,G__68705,G__68706));
})();
if(cljs.core.truth_(address_id)){
return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("address","id","address/id",-555725248),address_id], null);
} else {
return null;
}
}));
book.database.time_resolver = com.wsscode.pathom.connect.resolver(new cljs.core.Symbol("book.database","time-resolver","book.database/time-resolver",1564129344,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("com.wsscode.pathom.connect","output","com.wsscode.pathom.connect/output",552487303),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("server","time-ms","server/time-ms",-1569053946)], null)], null),(function book$database$time_resolver(_,___$1){
return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("server","time-ms","server/time-ms",-1569053946),cljs.core.inst_ms((new Date()))], null);
}));
book.database.general_resolvers = new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [book.database.phone_resolver,book.database.address_resolver,book.database.person_resolver,book.database.default_address_resolver,book.database.all_people_resolver,book.database.time_resolver], null);

//# sourceMappingURL=book.database.js.map
