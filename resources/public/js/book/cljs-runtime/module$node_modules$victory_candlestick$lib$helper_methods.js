shadow$provide.module$node_modules$victory_candlestick$lib$helper_methods=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.getData=exports.getDomain=exports.getBaseProps=void 0;var _isNil2=_interopRequireDefault(require("module$node_modules$lodash$isNil")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),_victoryCore=require("module$node_modules$victory_core$lib$index"),
getData=function(props){return _victoryCore.Data.formatData(props.data,props,["x","high","low","close","open"])};exports.getData=getData;var reduceData=function(dataset,axis,type){var yDataTypes={min:"_low",max:"_high"},dataType="x"===axis?"_x":yDataTypes[type];return dataset.reduce(function(memo,datum){datum=datum[dataType];return memo<datum&&"min"===type||memo>datum&&"max"===type?memo:datum},"min"===type?Infinity:-Infinity)},getDomainFromData=function(props,axis){var minDomain=_victoryCore.Domain.getMinFromProps(props,
axis),maxDomain=_victoryCore.Domain.getMaxFromProps(props,axis),dataset=getData(props);if(1>dataset.length)return axis=_victoryCore.Scale.getBaseScale(props,axis).domain(),minDomain=void 0!==minDomain?minDomain:_victoryCore.Collection.getMinValue(axis),maxDomain=void 0!==maxDomain?maxDomain:_victoryCore.Collection.getMaxValue(axis),_victoryCore.Domain.getDomainFromMinMax(minDomain,maxDomain);minDomain=void 0!==minDomain?minDomain:reduceData(dataset,axis,"min");maxDomain=void 0!==maxDomain?maxDomain:
reduceData(dataset,axis,"max");return _victoryCore.Domain.getDomainFromMinMax(minDomain,maxDomain)},getDomain=function(props,axis){return _victoryCore.Domain.createDomainFunction(getDomainFromData)(props,axis)};exports.getDomain=getDomain;var getCalculatedValues=function(props){var theme=props.theme,polar=props.polar;theme=_victoryCore.Helpers.getStyles(props.style,theme&&theme.candlestick&&theme.candlestick.style?theme.candlestick.style:{});var data=getData(props),JSCompiler_object_inline_x_2840=
_victoryCore.Helpers.getRange(props,"x"),JSCompiler_object_inline_y_2841=_victoryCore.Helpers.getRange(props,"y"),domain={x:getDomain(props,"x"),y:getDomain(props,"y")};JSCompiler_object_inline_x_2840={x:_victoryCore.Scale.getBaseScale(props,"x").domain(domain.x).range(JSCompiler_object_inline_x_2840),y:_victoryCore.Scale.getBaseScale(props,"y").domain(domain.y).range(JSCompiler_object_inline_y_2841)};props=polar?props.origin||_victoryCore.Helpers.getPolarOrigin(props):void 0;return{domain:domain,
data:data,scale:JSCompiler_object_inline_x_2840,style:theme,origin:props}};exports.getBaseProps=function(props,fallbackProps){props=_victoryCore.Helpers.modifyProps(props,fallbackProps,"candlestick");fallbackProps=getCalculatedValues(props);var data=fallbackProps.data,style=fallbackProps.style,scale=fallbackProps.scale,origin=fallbackProps.origin,_props=props,groupComponent=_props.groupComponent,width=_props.width,candleWidth=_props.candleWidth,candleRatio=_props.candleRatio,polar=_props.polar,wickStrokeWidth=
_props.wickStrokeWidth,labels=_props.labels,events=_props.events,sharedEvents=_props.sharedEvents;return data.reduce(function(childProps,datum,index){var eventKey=(0,_isNil2.default)(datum.eventKey)?index:datum.eventKey,x=scale.x(void 0!==datum._x1?datum._x1:datum._x),high=scale.y(datum._high),close=scale.y(datum._close),open=scale.y(datum._open),low=scale.y(datum._low);var dataStyle=(dataStyle=style.data)||{};var candleColor=datum.open>datum.close?props.candleColors.negative:props.candleColors.positive;
candleColor=dataStyle.fill||candleColor;var strokeColor=dataStyle.stroke;strokeColor="none"===strokeColor||"transparent"===strokeColor?candleColor:strokeColor||"black";dataStyle=(0,_assign2.default)({},dataStyle,{stroke:strokeColor,fill:candleColor});x={x:x,high:high,low:low,candleWidth:candleWidth,candleRatio:candleRatio,scale:scale,data:data,datum:datum,groupComponent:groupComponent,index:index,style:dataStyle,width:width,polar:polar,origin:origin,wickStrokeWidth:wickStrokeWidth,open:open,close:close};
childProps[eventKey]={data:x};datum=_victoryCore.LabelHelpers.getText(props,datum,index);if(void 0!==datum&&null!==datum||labels&&(events||sharedEvents))index=style.labels||{},childProps[eventKey].labels={style:index,y:x.high-(index.padding||0),x:x.x,text:datum,index:x.index,scale:x.scale,datum:x.datum,data:x.data,textAnchor:index.textAnchor,verticalAnchor:index.verticalAnchor||"end",angle:index.angle};return childProps},{parent:{domain:fallbackProps.domain,scale:scale,width:width,height:_props.height,
data:data,standalone:_props.standalone,theme:_props.theme,polar:polar,origin:origin,name:_props.name,style:style.parent,padding:_props.padding}})}}
//# sourceMappingURL=module$node_modules$victory_candlestick$lib$helper_methods.js.map
