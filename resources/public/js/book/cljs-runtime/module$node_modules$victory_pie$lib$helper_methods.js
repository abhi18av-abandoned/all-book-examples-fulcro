shadow$provide.module$node_modules$victory_pie$lib$helper_methods=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.getBaseProps=void 0;var _isNil2=_interopRequireDefault(require("module$node_modules$lodash$isNil")),_isPlainObject2=_interopRequireDefault(require("module$node_modules$lodash$isPlainObject")),_isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),
_defaults2=_interopRequireDefault(require("module$node_modules$lodash$defaults")),_assign2=_interopRequireDefault(require("module$node_modules$lodash$assign")),d3Shape=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=
obj;return newObj}(require("module$node_modules$d3_shape$dist$d3_shape")),_victoryCore=require("module$node_modules$victory_core$lib$index"),getSlices=function(props,data){return d3Shape.pie().sort(null).startAngle(_victoryCore.Helpers.degreesToRadians(props.startAngle)).endAngle(_victoryCore.Helpers.degreesToRadians(props.endAngle)).padAngle(_victoryCore.Helpers.degreesToRadians(props.padAngle)).value(function(datum){return datum._y})(data)},getCalculatedValues=function(props){var theme=props.theme,
colorScale=props.colorScale;theme=_victoryCore.Helpers.getStyles(props.style,theme&&theme.pie&&theme.pie.style?theme.pie.style:{},"auto","100%");colorScale=Array.isArray(colorScale)?colorScale:_victoryCore.Style.getColorScale(colorScale);var padding=_victoryCore.Helpers.getPadding(props);var defaultRadius="number"===typeof props.radius?props.radius:Math.min(props.width-padding.left-padding.right,props.height-padding.top-padding.bottom)/2;var origin=props.width;var height=props.height,origin$jscomp$0=
(0,_isPlainObject2.default)(props.origin)?props.origin:{};origin={x:void 0!==origin$jscomp$0.x?origin$jscomp$0.x:(padding.left-padding.right+origin)/2,y:void 0!==origin$jscomp$0.y?origin$jscomp$0.y:(padding.top-padding.bottom+height)/2};height=_victoryCore.Data.getData(props);props=getSlices(props,height);return{style:theme,colors:colorScale,padding:padding,defaultRadius:defaultRadius,data:height,slices:props,origin:origin}},getLabelText=function(props,datum,index){props=datum.label?datum.label:Array.isArray(props.labels)?
props.labels[index]:(0,_isFunction2.default)(props.labels)?props.labels(datum):datum.xName||datum._x;props=void 0===props||null===props?props:"".concat(props);return props};exports.getBaseProps=function(props,fallbackProps){props=_victoryCore.Helpers.modifyProps(props,fallbackProps,"pie");var calculatedValues=getCalculatedValues(props);fallbackProps=calculatedValues.slices;var data=calculatedValues.data,origin$jscomp$0=calculatedValues.origin,defaultRadius$jscomp$0=calculatedValues.defaultRadius,
_props=props,labels=_props.labels,events=_props.events,sharedEvents=_props.sharedEvents,innerRadius=_props.innerRadius,cornerRadius=_props.cornerRadius,padAngle=_props.padAngle,radius=props.radius||defaultRadius$jscomp$0;return fallbackProps.reduce(function(childProps,slice,index){var datum=(0,_defaults2.default)({},data[index],{startAngle:_victoryCore.Helpers.radiansToDegrees(slice.startAngle),endAngle:_victoryCore.Helpers.radiansToDegrees(slice.endAngle),padAngle:_victoryCore.Helpers.radiansToDegrees(slice.padAngle)}),
eventKey=(0,_isNil2.default)(datum.eventKey)?index:datum.eventKey;var JSCompiler_inline_result=calculatedValues.style;var fill=calculatedValues.colors;fill=JSCompiler_inline_result&&JSCompiler_inline_result.data&&JSCompiler_inline_result.data.fill?JSCompiler_inline_result.data.fill:fill&&fill[index%fill.length];JSCompiler_inline_result=(0,_assign2.default)({fill:fill},JSCompiler_inline_result.data);fill={index:index,slice:slice,datum:datum,data:data,origin:origin$jscomp$0,innerRadius:innerRadius,
radius:radius,cornerRadius:cornerRadius,padAngle:padAngle,style:JSCompiler_inline_result};childProps[eventKey]={data:fill};index=getLabelText(props,datum,index);if(void 0!==index&&null!==index||labels&&(events||sharedEvents)){eventKey=childProps[eventKey];index=props;datum=fill.index;slice=fill.datum;JSCompiler_inline_result=fill.data;fill=fill.slice;var style=calculatedValues.style,defaultRadius=calculatedValues.defaultRadius,origin=calculatedValues.origin;style=_victoryCore.Helpers.evaluateStyle((0,
_assign2.default)({padding:0},style.labels),slice,index.active);var labelRadius=_victoryCore.Helpers.evaluateProp(index.labelRadius,slice),padding=style&&style.padding||0;defaultRadius=labelRadius||defaultRadius+padding;defaultRadius=d3Shape.arc().outerRadius(defaultRadius).innerRadius(defaultRadius);labelRadius=index.labelPosition;labelRadius={startAngle:"startAngle"===labelRadius?fill.endAngle:fill.startAngle,endAngle:"endAngle"===labelRadius?fill.startAngle:fill.endAngle};labelRadius=(0,_assign2.default)({},
fill,labelRadius);defaultRadius=defaultRadius.centroid(labelRadius);labelRadius=180/Math.PI*fill.startAngle;labelRadius+=(180/Math.PI*fill.endAngle-labelRadius)/2;labelRadius=45>labelRadius||315<labelRadius?"top":45<=labelRadius&&135>labelRadius?"right":135<=labelRadius&&225>labelRadius?"bottom":"left";index={index:datum,datum:slice,data:JSCompiler_inline_result,slice:fill,orientation:labelRadius,style:style,x:Math.round(defaultRadius[0])+origin.x,y:Math.round(defaultRadius[1])+origin.y,text:getLabelText(index,
slice,datum),textAnchor:style.textAnchor||("top"===labelRadius||"bottom"===labelRadius?"middle":"right"===labelRadius?"start":"end"),verticalAnchor:style.verticalAnchor||("left"===labelRadius||"right"===labelRadius?"middle":"bottom"===labelRadius?"start":"end"),angle:style.angle};eventKey.labels=index}return childProps},{parent:{standalone:_props.standalone,height:_props.height,width:_props.width,slices:fallbackProps,name:_props.name,style:calculatedValues.style.parent}})}}
//# sourceMappingURL=module$node_modules$victory_pie$lib$helper_methods.js.map
